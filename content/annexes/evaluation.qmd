---
title: "Evaluation"
slug: evaluation
description: |
  R√©sum√© des attentes pour les projets de fin d'ann√©e
image: https://minio.lab.sspcloud.fr/lgaliana/generative-art/pythonds/kid.png
---

# R√©sum√© 

* A la fin du semestre, les √©tudiants rendront un projet informatique par __groupe de 2-3 personnes.__
* Ce projet dont le __sujet est libre__ devra comporter:
    - Une valorisation d'un ou plusieurs jeux de donn√©es _open data_ ou collect√©s par le biais de _scraping_ ou d'API ; 
    - De la visualisation ;
    - De la mod√©lisation. 
* Les √©tudiants sont invit√©s √† proposer des sujets qui leur plaisent, √† faire valider par le charg√© de TD.
* __Le projet doit utiliser `Git` et √™tre disponible sous
[`Github`](https://github.com/) <a href="https://github.com" class="github"><i class="fab fa-github"></i></a>__ (d√©p√¥t public ou d√©p√¥t priv√© √† partager avec le charg√© de TD) ;
* Le projet doit √™tre __reproductible__ sous peine de sanction forte. Cela implique des morceaux de code reproductibles, une description des d√©pendances et des explications si n√©cessaire sur la r√©cup√©ration des donn√©es ;
* La __date du rendu__ est fix√©e au : **30 d√©cembre 2023 23h59**
* Le **12 janvier 2024**, auront lieu des __soutenances__
 

# Attentes du projet

Le projet est une probl√©matique √† laquelle vous souhaitez r√©pondre √†
l‚Äôaide d‚Äôun ou de plusieurs jeu(s) de donn√©es.

Il faut donc dans un premier temps se pencher sur la recherche de probl√©matisation et de contextualisation. Nous vous recommandons de prendre un sujet qui vous pla√Æt afin d'√™tre
motiv√© √† impliquer le lecteur dans votre d√©marche.

Trois dimensions doivent √™tre pr√©sentes dans le projet.
Pour chacune de ces parties, il est possible d‚Äôaller plus ou moins loin. Il est recommand√© d‚Äôaller loin sur au moins une des 3 dimensions.


## La r√©cup√©ration et le traitement des donn√©es

Ces donn√©es peuvent √™tre directement disponibles sous la forme de fichiers txt, csv ‚Ä¶ ou provenir de sites internet (scraping, API). Plus le travail sur la r√©cup√©ration de donn√©es est important (par exemple _scraping_ sur plusieurs sites, donn√©es crois√©es r√©cup√©r√©es par le biais d'API et de fichiers...), plus la partie obtiendra de points. Si le jeu de donn√©es utilis√© est un t√©l√©chargement d‚Äôun jeu propre existant, il faudra chercher √† le compl√©ter d‚Äôune mani√®re ou d‚Äôune autre pour obtenir des points sur cette partie.

Vous obtiendrez vraisemblablement des donn√©es qui ne sont pas ¬´ propres ¬ª du premier coup : mettez en place des protocoles de nettoyage pour obtenir √† la fin de cette √©tape un ou des jeux de donn√©es fiable et robuste pour mener ensuite votre analyse. C‚Äôest √©galement le moment de cr√©er des variables plus appr√©hendables, mieux identifi√©es. N'oubliez pas de justifier les choix m√©thodologiques que vous avez pu faire car le charg√© de TD ne conna√Æt pas forc√©ment la base de donn√©es en question. 

## L‚Äôanalyse descriptive et la repr√©sentation graphique

La pr√©sence de statistiques descriptives est indispensable dans le projet. De la description de la base aux premi√®res grandes tendances des donn√©es, cette partie permet d‚Äôavoir une vision globale des donn√©es : le lien avec la probl√©matique, comment elle permet d‚Äôy r√©pondre, quels sont les premiers √©l√©ments de r√©ponse‚Ä¶ Chaque r√©sultat doit √™tre interpr√©t√© : pas la peine de faire un `describe` et de ne pas le commenter.

En termes de repr√©sentation graphique, plusieurs niveaux sont envisageables, selon le degr√© d'approfondissement de cette partie. La base d‚Äôune bonne visualisation est de trouver le type de graphique ad√©quat pour ce que vous voulez montrer et de le rendre visible : une l√©gende qui a du sens, des axes avec des noms etc.

Encore une fois, il faudra commenter votre graphique: qu‚Äôest ce qu‚Äôil montre, en quoi cela valide / contredit votre argumentaire ?


::: {#nte-appli .callout-note collapse="true"}
## Les applications r√©actives

Dans le cadre de ce cours, nous pr√©sentons plusieurs librairies graphiques permettant de cr√©er des visualisations de donn√©es interactives, notamment `Plotly` ou `Leaflet`. Pour aller plus loin, vous pouvez d√©sirer cr√©er des applications encapsulant plusieurs graphiques construits automatiquement
en fonction de choix de l'utilisateur sur une interface graphique.

Tout d'abord, ce n'est pas un pr√©requis pour ce cours. Le cours de 3e ann√©e ["Mise en production de projets de _data science_"](https://ensae-reproductibilite.github.io/website/)
que Romain Avouac et moi donnons √† l'ENSAE vous permettra de mettre en oeuvre ceci, qui fait appel √† des concepts plus avanc√©s qu'une introduction √† `Python` pour la science des donn√©es. 

C'est n√©anmoins un plus qui est appr√©ci√© et si vous d√©sirez aller dans cette voie, il est recommand√© de bien choisir son √©cosyst√®me. Il vaut mieux mettre en oeuvre des _frameworks web_ modernes comme
`Streamlit` que des clients lourds comme `tkinter` qui rendent le code difficilement reproductible
car adh√©rant √† une configuration logicielle. Pour en savoir plus, se reporter
√† l'[introduction de la partie visualisation](/content/visualisation/index.qmd).

Si vous faites une application r√©active, vous n'√™tes pas oblig√© de r√©diger un _notebook_.
Cependant, faites en sorte que votre application propose une page pr√©sentant votre d√©marche
afin de faire comprendre √† votre lecteur la probl√©matique et les solutions mises en oeuvre.  
Cette application doit √™tre reproductible sur le `SSPCloud` par le biais, par exemple, 
d'un `streamlit run`. Il est donc vivement recommand√© de d√©velopper celle-ci sur le SSPCloud
o√π la reproductibilit√© est maximale. 
:::

## La mod√©lisation

Vient ensuite la phase de mod√©lisation : un mod√®le peut √™tre le bienvenu quand des statistiques descriptives ne suffisent pas √† apporter une solution compl√®te √† votre probl√©matique ou pour compl√©ter / renforcer l‚Äôanalyse descriptive. Le mod√®le importe peu (r√©gression lin√©aire, random forest ou autre) : il doit √™tre appropri√© (r√©pondre √† votre probl√©matique) et justifi√©.
Vous pouvez aussi confronter plusieurs mod√®les qui n‚Äôont pas la m√™me vocation : par exemple une CAH pour cat√©goriser et cr√©er des nouvelles variables / faire des groupes puis une r√©gression. 
M√™me si le projet n‚Äôest pas celui du cours de stats, il faut que la d√©marche soit scientifique et que les r√©sultats soient interpr√©t√©s.


# Format du rendu

Sur le format du rendu, vous devrez :

* √âcrire un rapport sous forme de _Notebook_ (quelques exceptions √† cette r√®gle peuvent exister, par exemple si vous d√©velopper une appli `Dash` ou `Streamlit` comme expliqu√© dans la @nte-appli) ou de `Quarto Markdown`. Soyez vigilant avec le contr√¥le de version (@imp-gitnb)
* Avoir un projet `Github` avec le rapport. Les donn√©es utilis√©es doivent √™tre accessibles √©galement, dans le d√©p√¥t, sur internet ou sur l'espace de stockage du `SSPCloud` (@tip-s3).
* Les __d√©p√¥ts `Github` o√π seul un *upload* du projet a √©t√© r√©alis√© seront p√©nalis√©s__. A l'inverse, les d√©p√¥ts dans lequels le contr√¥le de version et le travail collaboratif ont √©t√© activement pratiqu√©s (`commits` fr√©quents, `pull requests`, ..) seront valoris√©s.
* Le code contenu dans le rapport devra √™tre un maximum propre (pas de copier coller de cellule, pr√©f√©rez des fonctions)



::: {#imp-gitnb .callout-important collapse="true"}
## `Git` et les _notebooks_

Faites attention au contr√¥le de version avec les _notebooks_, cela ne fait pas toujours bon m√©nage.  

Comme expliqu√© dans le [chapitre sur `Git`](/content/git/exogit.qmd), lorsque vous travaillez sur le m√™me fichier en m√™me temps vous pouvez vous retrouver avec un conflit de version lorsque vous r√©solvez les diff√©rences dans vos d√©p√¥ts.
Dans les _notebooks_ cela peut se traduire par de multiples conflits de version car deux _notebooks_ en apparence similaires peuvent contenir beaucoup d'√©l√©ments diff√©rents dans les fichiers bruts (un `JSON` assez complexe, embarquant notamment des _id_ d'ex√©cution de cellules changeant syst√©matiquement). Un _merge_ mal g√©r√© peut rendre un _notebook_ invalide. 

Il est recommand√© de ne pas travailler sur un m√™me _notebook_ sur une m√™me branche en m√™me temps. Cela fait donc beaucoup de conditions pour arriver √† un conflit de version mais dans le _rush_ inh√©rent √† tout projet cela peut vite arriver. Outre la coordination, nous pouvons vous conseiller
de d√©porter une partie du code dans des fichiers `.py` import√©s sous forme de module par le _notebook_. De toute mani√®re, c'est une bonne pratique de ne pas accumuler de trop longues instructions de code dans un _notebook_ car cela freine la lisibilit√© et l'intelligibilit√© de celui-ci. 
:::


::: {#tip-s3 .callout-tip collapse="true"}
## Sauvegarder des donn√©es sur le syst√®me de stockage du `SSPCloud`

‚ö†Ô∏è __Cette approche n'est pertinente que pour des donn√©es dont le temps d'acquisition est suffisamment long pour √™tre d√©rangeant et ne doit pas √™tre consid√©r√© comme une carte blanche √† l'absence de reproductibilit√©.__

Il peut √™tre p√©nible de refaire tourner fr√©quemment le code de r√©cup√©ration des donn√©es, notamment
si celui-ci est long. Sous cette condition, il est normal de vouloir √©crire des donn√©es
interm√©diaires pour des analyses ult√©rieures (au format `CSV` ou encore mieux au format `Parquet`).
Se pose alors la question de l'enregistrement p√©renne de celles-ci, les conteneurs sur le
_SSPCloud_ n'√©tant pas persistant. 

Ces donn√©es ne doivent pas √™tre mises dans le d√©p√¥t `Github`, ce n'est pas le lieu adapt√©. 
Pour le stockage p√©renne de donn√©es, le _sspcloud_ propose un syst√®me de
stockage `S3` (technologie identique √† celle des principaux _cloud providers_).
Dans un service ayant moins de 24 heures, afin d'avoir des jetons de connexion
n'√©tant pas p√©rim√©s, on instancie la connexion avec 

```python
import s3fs
fs = s3fs.S3FileSystem(
    client_kwargs={'endpoint_url': 'https://'+'minio.lab.sspcloud.fr'}
)
```

Cette connexion permet de cr√©er un syst√®me de fichier distant
comme si on √©tait en local. 
Pour √©crire un fichier au format `Parquet` sur cet espace avec `Pandas`, il suffit
de partir du mod√®le suivant

```python
with fs.open("s3/<USERNAME>/<dossier(s)>/<fichier>.parquet") as f:
  df.to_parquet(f)
```

Ce principe peut √™tre utilis√© pour tout type d'objet, en prenant
le format ad√©quat.

A ce stade, ce fichier est priv√©. Il n'est donc pas lisible
par un autre utilisateur. Pour le rendre disponible √† quelqu'un
d'autre, il faut rendre disponible ce fichier √† un acc√®s _anonyme_. Pour
cela, en ligne de commande il faut faire:

```shell
mc anonymous set download s3/<USERNAME>/<dossier(s)>/<fichier>.parquet
```

Ce fichier devient disponible √† n'importe qui par un lien HTTPS. Pour le 
lire, il suffira de faire

```python
import pandas as pd
pd.read_parquet("https://minio.lab.sspcloud.fr/<USERNAME>/<dossier(s)>/<fichier>.parquet")
```

Pour en savoir plus sur le syst√®me S3, les 
librairies `Python` ou les diff√©rentes
mani√®res de proc√©der, consulter [ce chapitre](/content/modern-ds/s3.qmd)

:::



# Bar√®me approximatif

| Cat√©gorie                                         | Points |
|---------------------------------------------------|--------|
| Donn√©es (collecte et nettoyage)                   | 4      |
| Analyse descriptive                               | 4      |
| Mod√©lisation                                      | 2      |
| D√©marche scientifique et reproductibilit√© du projet | 4      |
| Format du code (code propre et github)            | 2      |
| Soutenance                                        | 4      |

Lors de l'√©valuation, une attention particuli√®re sera donn√©e √† la *reproductibilit√©* de votre projet.
Chaque √©tape (r√©cup√©ration et traitement des donn√©es, analyses descriptives, mod√©lisation) doit pouvoir √™tre reproduite √† partir du notebook final. 

Le test √† r√©aliser : faire tourner toutes les cellules de votre notebook et ne pas avoir d‚Äôerreur est une condition _sine qua non_ pour avoir la moyenne.


# Projets men√©s par les √©tudiants üòç

| Projet | Auteurs | URL projet <a href="https://github.com" class="github"><i class="fab fa-github"></i></a> | Tags |
|--------|---------|------------|------|
| GPS v√©lo int√©grant les bornes V√©lib, les accidents, la congestion et la m√©t√©o | Vinciane Desbois ; Imane Fares ; Romane Gajdos | [https://github.com/ImaneFa/Projet_Python](https://github.com/ImaneFa/Projet_Python) | V√©lib ; Pistes cyclables ; Accidents ; Folium|
| Quiz Generator | Adrien Servi√®re ; M√©lissa Tamine | [https://github.com/taminemelissa/quiz-generator](https://github.com/taminemelissa/quiz-generator)| Machine Learning ; Natural Language Processing ; Question Generation ; Word2Vec |
| Estimation de l'empreinte carbone d'une recette de cuisine | Jean-Baptiste Laval ; Hadrien Lolivier ; Sirine Louati | [https://github.com/sirinelouati/Plat_CO2](https://github.com/sirinelouati/Plat_CO2) | scraping ; Dashboard ; Empreinte carbone ; Alimentation |
| Le "bon sens du boucher-charcutier de Tourcoing vaut-il mieux que les enqu√™tes de victimation ?" | Conrad Thiounn ; Gaston Vermersch | [https://github.com/cthiounn/python-datascience-ENSAE-2A](https://github.com/cthiounn/python-datascience-ENSAE-2A) | API ; Open-data ; ACP ; CAH ; LASSO |
| Influence de la dette publique sur le d√©veloppement humain des √âtats | Ma√´l Dieudonn√© ; Guillaume L√©vy | [https://gitlab.crans.org/ensae/projet-python](https://gitlab.crans.org/ensae/projet-python) | API ; Econom√©trie |
| Est-il possible de pr√©dire un feu de for√™t gr√¢ce √† des donn√©es climatiques ? | Thomas Chen, F√©lix de Champs, David Premachandra | [https://github.com/felixdechamps/ensae-prog2A](https://github.com/felixdechamps/ensae-prog2A) | Donn√©es g√©ographiques ; ML ; R√©gression lin√©aire |
| Analyse du r√©seau ferr√© de la SNCF: Comment expliquer les retards permanents de la compagnie fran√ßaise ? | Diego Renaud ; Victor Parent ; Marion Chabrol | [https://github.com/DiegoRenaud/ProjetPython](https://github.com/DiegoRenaud/ProjetPython) | API ; SNCF ; LASSO |

<!---
-----Suivre ce mod√®le------
| Pr√©diction du prix des carottes | Bugs Bunny ; Daffy Duck | https://github.com/TheAlgorithms/Python | Pr√©diction ; Machine Learning ; Alimentation |
----->

