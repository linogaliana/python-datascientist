:::: {.content-visible when-profile="fr"}

::: {.callout-tip}
## Exercice 2

1. Visiter le _swagger_ de l'API de l'Annuaire de l'Education nationale sur [api.gouv.fr/documentation](https://www.data.gouv.fr/dataservices/annuaire-de-leducation-nationale/ ) et tester une première récupération de données en utilisant le _endpoint_ `records` sans aucun paramètre.
2. Puisqu'on n'a conservé que les données de la Haute Garonne dans notre base principale, on désire ne récupérer que les établissements de ce département par le biais de notre API. Faire une requête avec le paramètre _ad hoc_, sans en ajouter d'autres.
3. Augmenter la limite du nombre de paramètres, voyez-vous le problème ?
4. On va tenter de récupérer ces données par le biais de l'API tabular de `data.gouv`. Sa documentation est [ici](https://tabular-api.data.gouv.fr/api/doc) et l'identifiant de la ressource est `b22f04bf-64a8-495d-b8bb-d84dbc4c7983` ([source](https://www.data.gouv.fr/fr/datasets/annuaire-de-leducation/)). Avec l'aide de la documentation, essayer de récupérer des données par le biais de cette API en utilisant le paramètre `Code_departement__exact=031` pour ne garder que le département d'intérêt.
5. Voyez-vous le problème et comment nous pourrions automatiser la récupération de données ?
:::

::::

:::: {.content-visible when-profile="en"}

::: {.callout-tip}
## Exercise 2

1. Visit the _swagger_ of the National Education Directory API on [api.gouv.fr/documentation](https://www.data.gouv.fr/dataservices/annuaire-de-leducation-nationale/) and test an initial data retrieval using the `records` endpoint without any parameters.
2. Since we have retained only data from Haute Garonne in our main database, we want to retrieve only the institutions from that department using our API. Make a query with the appropriate parameter, without adding any extras.
3. Increase the limit on the number of parameters—do you see the problem?
4. We will attempt to retrieve these data via the `data.gouv` Tabular API. Its documentation is [here](https://tabular-api.data.gouv.fr/api/doc) and the resource identifier is `b22f04bf-64a8-495d-b8bb-d84dbc4c7983` ([source](https://www.data.gouv.fr/fr/datasets/annuaire-de-leducation/)). With the help of the documentation, try to retrieve data via this API using the parameter `Code_departement__exact=031` to select only the department of interest.
5. Do you see the problem and how we could automate data retrieval?
:::

::::
