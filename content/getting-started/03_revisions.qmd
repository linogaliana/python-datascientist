---
title: "Quelques exercices de rappels pour se remettre en selle"
title-en: "A few refresher exercises to get back in the saddle"
author: Lino Galiana
description: |
    Un chapitre consacré à divers exercices pour réviser les principes de base de la syntaxe `Python` et des objets utilisés par le langage. 
description-en: |
    A chapter devoted to various exercises to review the basics of Python syntax and the objects used by the language.
echo: false
filters: 
  - live
#filters:
#  - pyodide
---



::: {.content-visible when-format="html"}

:::: {.content-visible when-profile="fr"}
[`Pandas`](http://pandas.pydata.org/) et [`Numpy`](http://www.numpy.org/), les premiers _packages_ de notre parcours initiatique, 
sont essentiels pour manipuler les données. 
Néanmoins, il est nécessaire de ne pas faire l'impasse sur les fondements 
du langage `Python` lorsqu'on découvre ce langage. Une bonne compréhension des éléments structurants du
langage permet de mieux comprendre la logique des packages de _data science_, de mieux comprendre les erreurs rencontrées et entraîne une plus grande productivité et liberté.

Pour découvrir les objets de base et la structure du langage, une série de _notebooks_ est mise à disposition ci-dessous. Le parcours est à la carte, vous pouvez faire ces _notebooks_ dans le désordre ou n'en faire qu'une partie si vous avez de bons souvenirs sur le contenu couvert par certains. 

Après avoir révisé, des exercices de synthèse sont là pour mettre en oeuvre, en pratique, les éléments sur les structures de données. Après avoir fait ceux-ci, la suite du parcours se trouve dans la partie ["Manipuler les données"](/content/manipulation/index.qmd).


# Notebooks de révision
::::

:::: {.content-visible when-profile="en"}
[`Pandas`](http://pandas.pydata.org/) and [`Numpy`](http://www.numpy.org/), the first _packages_ of our introductory journey, 
are essential for manipulating data. However, it is important not to overlook the fundamentals of the `Python` language when discovering it. A good understanding of the fundamental elements of the language helps to better grasp the logic of _data science_ packages, understand the errors encountered, and results in greater productivity and freedom.

To explore basic objects and the structure of the language, a series of _notebooks_ is provided below. The course is flexible; you can work through these _notebooks_ in any order or only complete parts of them if you are already familiar with some of the content.

Once you've reviewed the material, you will find summary exercises to help you put your knowledge of data structures into practice. Once you have done these, you will find the rest of the course in the ["Handling data" section](/content/manipulation/index.qmd).


# Review notebooks
::::


```{ojs}
await teaserList(listeChapters)
```

```{ojs}
isEnglish = window.location.href.includes("/en/")
lang = (isEnglish) ? "en" : "fr"

textButton = (isEnglish) ? "VSCode" : "VSCode"
textButtonTest = (isEnglish) ? "Try on SSP Cloud" : "Tester sur SSP Cloud"
textButtonRead = (isEnglish) ? "Read" : "Lire"
```

```{ojs}
url = "https://minio.lab.sspcloud.fr/lgaliana/python-ENSAE/inputs/educationalresources.json"
content = d3.json(url)
fondamentaux = content.parts.filter(part => part.name.fr == "Fondamentaux du langage")
listeChapters = fondamentaux[0].parts
```


```{ojs}
function renderTeaser(doc) {
  const { name, abstract, deploymentUrl, articleUrl, tags, authors } = doc;

  const badgeTest = isEnglish
    ? "https://custom-icon-badges.demolab.com/badge/SSP%20Cloud-Try-blue?logo=vsc&logoColor=white"
    : "https://custom-icon-badges.demolab.com/badge/SSP%20Cloud-Tester-blue?logo=vsc&logoColor=white";

  const badgeRead = isEnglish
    ? "https://custom-icon-badges.demolab.com/badge/Read-Online-ffa500?logo=book&logoColor=white"
    : "https://custom-icon-badges.demolab.com/badge/Lire-En%20ligne-ffa500?logo=book&logoColor=white";


  const tagsHTML = tags
    .map((tag) => `<span class="topic" style="margin-right: 8px; border: 2px solid #C4C4C4; border-radius: 5px; width: fit-content;">${tag}</span>`)
    .join("");

  const authorsHTML = authors
    .map((author) => `<span class="author" style="margin-right: 8px;">${author}</span>`)
    .join("");

  const localizedName = (lang === "en") ? name.en : name.fr;
  const localizedDeploymentUrl = (lang === "en") ? deploymentUrl.vscode.en : deploymentUrl.vscode.fr;
  const localizedAbstract = (lang === "en") ? abstract.en : abstract.fr;
  const localizedArticleUrl = (lang === "en") ? articleUrl.en : articleUrl.fr;


  return `
    <div class="gridcard-item">
      <div class="gridcard-body">
        <a class="gridcard-title" href="${localizedDeploymentUrl}">${localizedName}</a>
        ${localizedAbstract ? `<p class="gridcard-description">${localizedAbstract}</p>` : ""}

          <a class="launch-badge"
            href="${localizedDeploymentUrl}"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="Tester sur SSP Cloud">
            <img src="${badgeTest}" alt="Tester sur SSP Cloud" loading="lazy">
          </a>

          <a class="launch-badge"
            href="${localizedArticleUrl}"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="Lire en ligne">
            <img src="${badgeRead}" alt="Lire en ligne" loading="lazy">
          </a>
        </div>

      </div>
    </div>
  `;
}

```


```{ojs}
function teaserList(docs, css = THEME_TEASERS) {
  const id = DOM.uid().id;
  return html`<div id="${id}">
    <div class=listing-grid>${docs.map(doc => renderTeaser(doc))}
  `;
}
```


```{ojs}
import { THEME_TEASERS, ICON_LIKE, getScopedStyle } from "@mootari/notebook-teasers";
```

:::

::: {.content-visible when-format="ipynb"}
Le contenu de cette page est disponible sur [le site web du cours](pythonds.linogaliana.fr/content/getting-started/04_revisions.html)
:::

::: {.content-visible when-profile="fr"}
# Exercices de synthèse

Pour vérifier que vous êtes au point sur les structures de données et les opérations adéquates en `Python` pour différents problèmes, voici une série d'exercice. 

Ils demandent de se creuser un peu la tête sur la structure adéquate des données pour y répondre, c'est normal ! 

Une fois n'est pas coutume, les exercices se font directement sur cette page plutôt que par le biais de _notebooks_[^wasm]. La correction sera prochainement dans la [page dédiée](/content/appendix/corrections.qmd).

[^wasm]: Il est possible d'exécuter du `Python` sur le navigateur grâce à son implémentation en WASM par le biais de [Pyodide](https://pyodide.org/en/stable/). Ce n'est pas une méthode recommandée quand on doit faire des calculs conséquents comme dans les prochains chapitres. Mais comme ici nous travaillons sur de petits exemples c'est assez pratique pour bénéficier de l'interactivité permise par le navigateur, notamment les aides en cas de blocage. 



:::

::: {.content-visible when-profile="en"}
# Synthesis exercises

To make sure you are fluent on data structures and operations in `Python` for different problems, here is a series of exercises. 

They require you to think hard about the appropriate data structure to answer - that's normal! 

For once, the exercises are done directly on this page rather than via _notebooks_[^wasm-en]. The correction will soon be available on the [dedicated page](/content/appendix/corrections.qmd).

[^wasm-en]: It is possible to run `Python` on the browser thanks to its implementation in WASM via [Pyodide](https://pyodide.org/en/stable/). This is not a recommended method when you need to perform big calculations, as in the next chapters. But since we are working on small examples here, this is quite practical to benefit from the interactivity enabled by the browser, notably the helpers in case ou are blocked. 

:::


## Exercice 1

{{< include "03_revisions/_exo1.qmd" >}}
{{< include "03_revisions/_exo1_solutions.qmd" >}}



## Exercice 2 

Les _advent of code_ sont d'excellents problèmes pratiques pour apprendre l'algorithmique. Avec un problème par jour de difficulté croissante entre le 1er décembre et le jour de Noël, on devient très vite à l'aise avec les nombreuses structures de données qu'offre `Python`. 

Le prochain exercice propose de résoudre la première partie du jour 1 (année 2022) exclusivement avec du `Python` base. 

::: {.callout-warning}
Il serait pertinent d'utiliser `Numpy` pour le prochain problème. Mais c'est l'objet du prochain chapitre de montrer la manière dont ce _package_ simplifie les opérations numériques basiques.
:::

Voici les objets dont nous aurons besoin pour cet exercice:


```{python}
import requests

url = "https://minio.lab.sspcloud.fr/lgaliana/python-ENSAE/inputs/aoc2022_day1.txt"
elves = requests.get(url).text.split("\n\n")


example = """
1000
2000
3000

4000

5000
6000

7000
8000
9000

10000
"""

elves_example = example.split("\n\n")
```

```{pyodide}
import requests

url = "https://minio.lab.sspcloud.fr/lgaliana/python-ENSAE/inputs/aoc2022_day1.txt"
elves = requests.get(url).text.split("\n\n")


example = """
1000
2000
3000

4000

5000
6000

7000
8000
9000

10000
"""

elves_example = example.split("\n\n")
```



::: {.callout-tip}
## Exercice 2

Cet exercice vise à vous guider pour résoudre le problème [sur cette page](https://adventofcode.com/2022/day/1) (_Advent of Code_ 2022, jour 1, première partie). Il va être nécessaire de trouver une structure de données plus adéquate que celle de départ.

1. Lire la consigne
2. En allant progressivement, essayez de retrouver sur l'exemple le volume de calories portées par chaque elfe.
3. En déduire l'elfe portant le plus de calories. Vérifier que vous obtenez bien sur l'exemple les calories évoquées dans la consigne.
4. Généraliser pour résoudre le problème
:::

Vous pouvez dans cette cellule écrire votre code pour la question 2:

```{pyodide}
#| exercise: ex_2_q2
# Tester ici de manière itérative votre solution à la question 2
```

:::: { .hint exercise="ex_2_q2"}
::: { .callout-note collapse="false"}
## Indice 1

Il va falloir itérer sur chaque valeur de `elves_example`: comment transformer la chaîne de caractère en objet plus maniable ?

:::
::::

:::: { .hint exercise="ex_2_q2"}
::: { .callout-note collapse="false"}
## Indice 2

Attention au type d'objet que vous allez obtenir, n'oubliez pas de convertir dans un format numérique si vous désirez faire des opérations arithmétiques

:::
::::


:::: { .hint exercise="ex_2_q2"}
::: { .callout-note collapse="false"}
## Indice 3

Vous devriez finir avec la liste

```{ojs}
calories_example
```

:::
::::


```{python}
# Question 2
calories_example = []
for idx, elf in enumerate(elves_example):
  calories_example += [
    sum(map(int, elf.strip().split("\n")))
  ]
```

```{python}
#| echo: false
ojs_define(calories_example = calories_example)
```

Vous pouvez dans cette cellule écrire votre code pour la question 3:

```{pyodide}
#| exercise: ex_2_q3
# Question 3
````

```{python}
# Question 3
idx_max = calories_example.index(max(calories_example))
idx_min = calories_example.index(min(calories_example))
```

```{python}
# Question 4
def process_calories(elf) -> list[list[int]]:
    elves_split = [
      list(
        map(int, elf.strip().split("\n"))
      ) for elf in elves]
    return elves_split

data = process_calories(elves)
calories_total = [sum(d) for d in data]
```

Pour finir, après avoir généralisé, vous devriez retrouver les valeurs suivantes:

```{python}
idx_elf = calories_total.index(max(calories_total))
max_elf = max(calories_total)
print(
  f"L'elfe numéro {idx_elf} porte le plus de calories ({max_elf} calories)"
)
```

```{pyodide}
#| exercise: ex_2_q4
# Question 4
```


