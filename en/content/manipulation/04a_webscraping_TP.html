<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Lino Galiana">
<meta name="dcterms.date" content="2025-12-25">
<meta name="description" content="Python makes it easy to retrieve a web page and extract data for restructuring. Web scraping is an increasingly popular way of retrieving large amounts of information in real time. This chapter presents the two main paradigms through BeautifulSoup and Selenium and the main challenges of web scraping.">

<title>Web scraping with Python – Python for data science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../content/manipulation/04c_API_TP.html" rel="next">
<link href="../../content/manipulation/03_geopandas_intro.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-d640c705e8c17715bca3574aa719063f.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-d6a2ae2cb249da1580f0a11f71b8f854.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-d640c705e8c17715bca3574aa719063f.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-b0ee0f3d26c43523b47293a7912f1f86.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-db3e51265e65e704b1bb318787a6fd58.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-b0ee0f3d26c43523b47293a7912f1f86.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script src="../../site_libs/quarto-contrib/iconify-3.0.0/iconify-icon.min.js"></script>
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: #e9f3fa;
      }
</style>
<script type="module" src="../../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../styles/styles.css">
<meta name="twitter:title" content="Web scraping with Python – Python for data science">
<meta name="twitter:description" content="Python permet de facilement récupérer une page web pour en extraire des données à restructurer. Le web scraping, que les Canadiens nomment “moissonnage du web”, est une manière de plus en plus utilisée de récupérer une grande masse d’information en temps réel. Ce chapitre présente les deux principaux paradigmes par le biais de BeautifulSoup et Selenium et les principaux défis du web scraping.">
<meta name="twitter:image" content="https://pythonds.linogaliana.fr/content/manipulation/bulbasaur.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="citation_title" content="Python pour la data science">
<meta name="citation_author" content="Lino Galiana">
<meta name="citation_publication_date" content="2025">
<meta name="citation_cover_date" content="2025">
<meta name="citation_year" content="2025">
<meta name="citation_online_date" content="2025-12-25">
<meta name="citation_fulltext_html_url" content="https://pythonds.linogaliana.fr/">
<meta name="citation_doi" content="10.5281/zenodo.8229676">
<meta name="citation_language" content="en">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const queryPrefersDark = window.matchMedia('(prefers-color-scheme: dark)');
    const darkModeDefault = queryPrefersDark.matches;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    queryPrefersDark.addEventListener("change", e => {
      if(window.localStorage.getItem("quarto-color-scheme") !== null)
        return;
      const alternate = e.matches
      toggleColorMode(alternate);
      localAlternateSentinel = e.matches ? 'alternate' : 'default'; // this is used alongside local storage!
      toggleGiscusIfUsed(alternate, darkModeDefault);
    });
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-introduction" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Introduction</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-introduction">    
        <li>
    <a class="dropdown-item" href="../../content/getting-started/index.html">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/getting-started/01_environment.html">
 <span class="dropdown-text">A functional Python environment for data science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/getting-started/02_data_analysis.html">
 <span class="dropdown-text">How to deal with a data set</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/getting-started/03_revisions.html">
 <span class="dropdown-text">A few refresher exercises to get back in the saddle</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-wrangle" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Wrangle</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-wrangle">    
        <li>
    <a class="dropdown-item" href="../../content/manipulation/index.html">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/manipulation/01_numpy.html">
 <span class="dropdown-text">Numpy, the foundation of data science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/manipulation/02_pandas_intro.html">
 <span class="dropdown-text">Introduction to Pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/manipulation/02_pandas_suite.html">
 <span class="dropdown-text">Data wrangling with Pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/manipulation/03_geopandas_intro.html">
 <span class="dropdown-text">Introduction to spatial data with Geopandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/manipulation/04a_webscraping_TP.html">
 <span class="dropdown-text">Web scraping with Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/manipulation/04c_API_TP.html">
 <span class="dropdown-text">Retrieve data with APIs from Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/manipulation/04b_regex_TP.html">
 <span class="dropdown-text">Mastering regular expressions</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-communicate" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Communicate</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-communicate">    
        <li>
    <a class="dropdown-item" href="../../content/visualisation/index.html">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/visualisation/matplotlib.html">
 <span class="dropdown-text">Building graphics with Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/visualisation/maps.html">
 <span class="dropdown-text">Introduction to cartography with Python</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-model" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Model</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-model">    
        <li>
    <a class="dropdown-item" href="../../content/modelisation/index.html">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/modelisation/0_preprocessing.html">
 <span class="dropdown-text">Preprocessing before building machine learning models</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/modelisation/1_modelevaluation.html">
 <span class="dropdown-text">Evaluating model quality</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/modelisation/2_classification.html">
 <span class="dropdown-text">Discovering classification with decision trees</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/modelisation/3_regression.html">
 <span class="dropdown-text">An introduction to regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/modelisation/4_featureselection.html">
 <span class="dropdown-text">Variable selection: an introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/modelisation/5_clustering.html">
 <span class="dropdown-text">Clustering</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/modelisation/6_pipeline.html">
 <span class="dropdown-text">Premier pas vers l’industrialisation avec les pipelines scikit</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/modelisation/7_mlapi.html">
 <span class="dropdown-text">Mettre à disposition un modèle par le biais d’une API</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-nlp" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">NLP</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-nlp">    
        <li>
    <a class="dropdown-item" href="../../content/NLP/index.html">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/NLP/01_intro.html">
 <span class="dropdown-text">Cleaning and structuring information in textual data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/NLP/02_exoclean.html">
 <span class="dropdown-text">Frequentist analysis using the bag-of-words approach: forces and limitations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/NLP/03_embedding.html">
 <span class="dropdown-text">Synthetizing textual information with embeddings</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-git" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Git</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-git">    
        <li>
    <a class="dropdown-item" href="../../content/git/index.html">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/git/introgit.html">
 <span class="dropdown-text">Découvrir Git par la pratique: la gymnastique quotidienne</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/git/exogit.html">
 <span class="dropdown-text">Un cadavre exquis pour découvrir le travail collaboratif <code>Git</code></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-annexes" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Annexes</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-annexes">    
        <li>
    <a class="dropdown-item" href="../../content/annexes/evaluation.html">
 <span class="dropdown-text">Evaluation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/annexes/corrections.html">
 <span class="dropdown-text">Corrections</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://linogaliana.github.io/python-datascientist-slides/#/title-slide">
 <span class="dropdown-text">Slides de présentation</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/linogaliana/python-datascientist" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../content/manipulation/04a_webscraping_TP.html">Web scraping with Python</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Web scraping with Python</h1>
                  <div>
        <div class="description">
          <p>Python makes it easy to retrieve a web page and extract data for restructuring. Web scraping is an increasingly popular way of retrieving large amounts of information in real time. This chapter presents the two main paradigms through <code>BeautifulSoup</code> and <code>Selenium</code> and the main challenges of <em>web scraping</em>.</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Exercice</div>
                <div class="quarto-category">Manipulation</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Lino Galiana </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">2025-12-25</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/manipulation/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/manipulation/01_numpy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numpy, the foundation of data science</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/manipulation/02_pandas_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Pandas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/manipulation/02_pandas_suite.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data wrangling with Pandas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/manipulation/03_geopandas_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to spatial data with Geopandas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/manipulation/04a_webscraping_TP.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Web scraping with Python</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/manipulation/04c_API_TP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Retrieve data with APIs from Python</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/manipulation/04b_regex_TP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mastering regular expressions</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#issues" id="toc-issues" class="nav-link active" data-scroll-target="#issues"><span class="header-section-number">1</span> Issues</a>
  <ul class="collapse">
  <li><a href="#the-legal-gray-area-of-web-scraping" id="toc-the-legal-gray-area-of-web-scraping" class="nav-link" data-scroll-target="#the-legal-gray-area-of-web-scraping"><span class="header-section-number">1.1</span> The Legal Gray Area of <em>Web Scraping</em></a></li>
  <li><a href="#stability-and-reliability-of-retrieved-information" id="toc-stability-and-reliability-of-retrieved-information" class="nav-link" data-scroll-target="#stability-and-reliability-of-retrieved-information"><span class="header-section-number">1.2</span> Stability and Reliability of Retrieved Information</a></li>
  <li><a href="#best-practices" id="toc-best-practices" class="nav-link" data-scroll-target="#best-practices"><span class="header-section-number">1.3</span> Best Practices</a></li>
  </ul></li>
  <li><a href="#a-detour-to-the-web-how-does-a-website-work" id="toc-a-detour-to-the-web-how-does-a-website-work" class="nav-link" data-scroll-target="#a-detour-to-the-web-how-does-a-website-work"><span class="header-section-number">2</span> A Detour to the Web: How Does a Website Work?</a>
  <ul class="collapse">
  <li><a href="#tags" id="toc-tags" class="nav-link" data-scroll-target="#tags"><span class="header-section-number">2.1</span> Tags</a>
  <ul class="collapse">
  <li><a href="#application-a-table-in-html" id="toc-application-a-table-in-html" class="nav-link" data-scroll-target="#application-a-table-in-html"><span class="header-section-number">2.1.1</span> Application: A Table in HTML</a></li>
  <li><a href="#parent-and-child" id="toc-parent-and-child" class="nav-link" data-scroll-target="#parent-and-child"><span class="header-section-number">2.1.2</span> Parent and Child</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#scraping-with-python-the-beautifulsoup-package" id="toc-scraping-with-python-the-beautifulsoup-package" class="nav-link" data-scroll-target="#scraping-with-python-the-beautifulsoup-package"><span class="header-section-number">3</span> Scraping with <code>Python</code>: The <code>BeautifulSoup</code> Package</a>
  <ul class="collapse">
  <li><a href="#available-packages" id="toc-available-packages" class="nav-link" data-scroll-target="#available-packages"><span class="header-section-number">3.1</span> Available Packages</a></li>
  <li><a href="#retrieve-the-content-of-an-html-page" id="toc-retrieve-the-content-of-an-html-page" class="nav-link" data-scroll-target="#retrieve-the-content-of-an-html-page"><span class="header-section-number">3.2</span> Retrieve the Content of an HTML Page</a></li>
  <li><a href="#the-find-method" id="toc-the-find-method" class="nav-link" data-scroll-target="#the-find-method"><span class="header-section-number">3.3</span> The <code>find</code> method</a></li>
  <li><a href="#the-find_all-method" id="toc-the-find_all-method" class="nav-link" data-scroll-target="#the-find_all-method"><span class="header-section-number">3.4</span> The <code>find_all</code> Method</a></li>
  </ul></li>
  <li><a href="#guided-exercise-get-the-list-of-ligue-1-teams" id="toc-guided-exercise-get-the-list-of-ligue-1-teams" class="nav-link" data-scroll-target="#guided-exercise-get-the-list-of-ligue-1-teams"><span class="header-section-number">4</span> Guided Exercise: Get the List of Ligue 1 Teams</a></li>
  <li><a href="#going-further" id="toc-going-further" class="nav-link" data-scroll-target="#going-further"><span class="header-section-number">5</span> Going Further</a>
  <ul class="collapse">
  <li><a href="#retrieving-stadium-locations" id="toc-retrieving-stadium-locations" class="nav-link" data-scroll-target="#retrieving-stadium-locations"><span class="header-section-number">5.1</span> Retrieving stadium Locations</a></li>
  <li><a href="#cartes-stades-ligue1-en" id="toc-cartes-stades-ligue1-en" class="nav-link" data-scroll-target="#cartes-stades-ligue1-en"><span class="header-section-number">5.2</span> Stadium Map with <code>folium</code></a></li>
  </ul></li>
  <li><a href="#retrieving-information-on-pokémon" id="toc-retrieving-information-on-pokémon" class="nav-link" data-scroll-target="#retrieving-information-on-pokémon"><span class="header-section-number">6</span> Retrieving Information on Pokémon</a>
  <ul class="collapse">
  <li><a href="#unguided-version" id="toc-unguided-version" class="nav-link" data-scroll-target="#unguided-version"><span class="header-section-number">6.1</span> Unguided Version</a></li>
  <li><a href="#guided-version" id="toc-guided-version" class="nav-link" data-scroll-target="#guided-version"><span class="header-section-number">6.2</span> Guided Version</a>
  <ul class="collapse">
  <li><a href="#step-1-create-a-dataframe-of-characteristics" id="toc-step-1-create-a-dataframe-of-characteristics" class="nav-link" data-scroll-target="#step-1-create-a-dataframe-of-characteristics"><span class="header-section-number">6.2.1</span> Step 1: Create a DataFrame of Characteristics</a></li>
  <li><a href="#step-2-retrieve-and-display-pokémon-photos" id="toc-step-2-retrieve-and-display-pokémon-photos" class="nav-link" data-scroll-target="#step-2-retrieve-and-display-pokémon-photos"><span class="header-section-number">6.2.2</span> Step 2: Retrieve and Display Pokémon Photos</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#selenium-mimer-le-comportement-dun-utilisateur-internet" id="toc-selenium-mimer-le-comportement-dun-utilisateur-internet" class="nav-link" data-scroll-target="#selenium-mimer-le-comportement-dun-utilisateur-internet"><span class="header-section-number">7</span> <code>Selenium</code> : mimer le comportement d’un utilisateur internet</a>
  <ul class="collapse">
  <li><a href="#first-example-scraping-a-search-engine" id="toc-first-example-scraping-a-search-engine" class="nav-link" data-scroll-target="#first-example-scraping-a-search-engine"><span class="header-section-number">7.1</span> First Example: Scraping a Search Engine</a></li>
  <li><a href="#additional-exercise" id="toc-additional-exercise" class="nav-link" data-scroll-target="#additional-exercise"><span class="header-section-number">7.2</span> Additional Exercise</a></li>
  <li><a href="#informations-additionnelles" id="toc-informations-additionnelles" class="nav-link" data-scroll-target="#informations-additionnelles">Informations additionnelles</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/linogaliana/python-datascientist/edit/master/content/manipulation/04a_webscraping_TP.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/linogaliana/python-datascientist/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">

<script>
  const langButton = document.createElement("div");
  langButton.className = "lang-switch-button";
  langButton.style.textAlign = "right";
  langButton.style.marginTop = "1rem";
  langButton.style.marginBottom = "1rem";

  const currentPath = window.location.pathname;
  const isEnglish = currentPath.startsWith("/en/");
  let targetHref, label, svg;

  if (isEnglish) {
    targetHref = currentPath.replace(/^\/en\//, "/");
    label = "Passer à la version française";
    svg = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20" height="20" style="vertical-align: middle; margin-left: 0.5em; display: inline-block;"><mask id="circleFlagsLangFr"><circle cx="256" cy="256" r="256" fill="#fff"/></mask><g mask="url(#circleFlagsLangFr)"><path fill="#0055A4" d="M0 0h512v512H0z"/><path fill="#fff" d="M170.7 0h170.6v512H170.7z"/><path fill="#EF4135" d="M341.3 0H512v512H341.3z"/></g></svg>`;
  } else {
    targetHref = "/en" + currentPath;
    label = "Switch to English version";
    svg = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20" height="20" style="vertical-align: middle; margin-left: 0.5em; display: inline-block;"><mask id="circleFlagsLangEn"><circle cx="256" cy="256" r="256" fill="#fff"/></mask><g mask="url(#circleFlagsLangEn)"><path fill="#eee" d="M256 0L0 256v64l32 32l-32 32v128l22-8l23 8h23l54-32l54 32h32l48-32l48 32h32l54-32l54 32h68l-8-22l8-23v-23l-32-54l32-54v-32l-32-48l32-48v-32l-32-54l32-54V0z"/><path fill="#d80027" d="M224 64v64h160l64-64zm0 128l32 64l-48 48v208h96V304h208v-96H304l16-16zM0 320v64h128l-64 64H0v64h45l131-131v-45l16-16zm336 16l176 176v-45L381 336Z"/><path fill="#0052b4" d="M0 0v256h256V0zm512 68L404 176h108zM404 336l108 108V336zm-228 68L68 512h108zm160 0v108h108z"/><path fill="#eee" d="m187 243l57-41h-70l57 41l-22-67zm-81 0l57-41H93l57 41l-22-67zm-81 0l57-41H12l57 41l-22-67zm162-81l57-41h-70l57 41l-22-67zm-81 0l57-41H93l57 41l-22-67zm-81 0l57-41H12l57 41l-22-67Zm162-82l57-41h-70l57 41l-22-67zm-81 0l57-41H93l57 41l-22-67Zm-81 0l57-41H12l57 41l-22-67Z"/></g></svg>`;
  }

  langButton.innerHTML = `
    <a href="${targetHref}" class="button-cta">
      <button class="btn"><i class="fa fa-language"></i> ${label} ${svg}</button>
    </a>
  `;

  const main = document.querySelector("main#quarto-document-content");
  if (main) main.insertAdjacentElement("afterbegin", langButton);
</script>
    






<div class="badge-container"><div class="badge-text">If you want to try the examples in this tutorial:</div><a href="https://github.com/linogaliana/python-datascientist-notebooks/blob/main/notebooks/en/manipulation/04a_webscraping_TP.ipynb" target="_blank" rel="noopener"><img src="https://img.shields.io/static/v1?logo=github&amp;label=&amp;message=View%20on%20GitHub&amp;color=181717" alt="View on GitHub"></a>
<a href="https://datalab.sspcloud.fr/launcher/ide/vscode-python?autoLaunch=true&amp;name=«04a_webscraping_TP»&amp;init.personalInit=«https%3A%2F%2Fraw.githubusercontent.com%2Flinogaliana%2Fpython-datascientist%2Fmain%2Fsspcloud%2Finit-vscode.sh»&amp;init.personalInitArgs=«en/manipulation%2004a_webscraping_TP»" target="_blank" rel="noopener"><img src="https://custom-icon-badges.demolab.com/badge/SSP%20Cloud-Lancer_avec_VSCode-blue?logo=vsc&amp;logoColor=white" alt="Onyxia"></a>
<a href="https://datalab.sspcloud.fr/launcher/ide/jupyter-python?autoLaunch=true&amp;name=«04a_webscraping_TP»&amp;init.personalInit=«https%3A%2F%2Fraw.githubusercontent.com%2Flinogaliana%2Fpython-datascientist%2Fmain%2Fsspcloud%2Finit-jupyter.sh»&amp;init.personalInitArgs=«en/manipulation%2004a_webscraping_TP»" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/SSP%20Cloud-Lancer_avec_Jupyter-orange?logo=Jupyter&amp;logoColor=orange" alt="Onyxia"></a>
<a href="https://colab.research.google.com/github/linogaliana/python-datascientist-notebooks-colab//en/blob/main//notebooks/en/manipulation/04a_webscraping_TP.ipynb" target="_blank" rel="noopener"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"></a><br></div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Skills you will acquire in this chapter
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>Understand the key challenges of web scraping, including legal concerns (e.g.&nbsp;GDPR, grey areas), site stability, and data reliability<br>
</li>
<li>Follow best practices when scraping: check the <code>robots.txt</code> file, space out your requests, avoid overloading servers, and scrape during off-peak hours when possible<br>
</li>
<li>Navigate the HTML structure of a web page (tags, parent-child relationships) to accurately target the elements you want to extract<br>
</li>
<li>Use the <code>requests</code> library to fetch web page content, and <code>BeautifulSoup</code> to parse and explore the HTML using methods like <code>find</code> and <code>find_all</code><br>
</li>
<li>Practice your scraping skills with a hands-on exercise involving the French Ligue 1 football team list<br>
</li>
<li>Explore Selenium for simulating user interactions on JavaScript-driven dynamic pages<br>
</li>
<li>Understand the limitations of web scraping and know when it’s better to use more stable and reliable APIs<br>
</li>
</ul>
</div>
</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/Web_scraping"><em>Web scraping</em></a> refers to techniques for extracting content from websites.
It is a very useful practice for anyone looking to work with information available online, but not necessarily in the form of an <em>Excel</em> table.</p>
<p>This chapter introduces you to how to create and run bots to quickly retrieve useful information for your current or future projects.
It starts with some concrete use cases.
This chapter is heavily inspired and adapted from <a href="http://www.xavierdupre.fr/app/ensae_teaching_cs/helpsphinx/notebooks/TD2A_Eco_Web_Scraping.html">Xavier Dupré’s</a> work, the former professor of the subject.</p>
<section id="issues" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Issues</h1>
<p>A number of issues related to <em>web scraping</em> will only be briefly mentioned in this chapter.</p>
<section id="the-legal-gray-area-of-web-scraping" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="the-legal-gray-area-of-web-scraping"><span class="header-section-number">1.1</span> The Legal Gray Area of <em>Web Scraping</em></h2>
<p>First, regarding the legality of retrieving information through <em>scraping</em>, there is a gray area. Just because information is available on the internet, either directly or with a little searching, does not mean it can be retrieved and reused.</p>
<p>The excellent <a href="https://inseefrlab.github.io/formation-webscraping/">course by Antoine Palazzolo</a> discusses several media and legal cases on this issue. In France, the CNIL published new guidelines in 2020 on <em>web scraping</em>, clarifying that any data cannot be reused without the knowledge of the person to whom the data belongs. In other words, in principle, data collected by <em>web scraping</em> is subject to GDPR, meaning it requires the consent of the individuals from whom the data is reused.</p>
<p>It is therefore recommended to <strong>be cautious with the data retrieved</strong> by <em>web scraping</em> to avoid legal issues.</p>
</section>
<section id="stability-and-reliability-of-retrieved-information" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="stability-and-reliability-of-retrieved-information"><span class="header-section-number">1.2</span> Stability and Reliability of Retrieved Information</h2>
<p>Data retrieval through <em>web scraping</em> is certainly practical, but it does not necessarily align with the intended or desired use by a data provider. Since data is costly to collect and make available, some sites may not necessarily want it to be extracted freely and easily. Especially when the data could provide a competitor with commercially useful information (e.g., the price of a competing product).</p>
<p>As a result, companies often implement strategies to block or limit the amount of data scraped. The most common method is detecting and blocking requests made by bots rather than humans. For specialized entities, this detection is quite easy because numerous indicators can identify whether a website visit comes from a human user behind a browser or a bot. To mention just a few clues: browsing speed between pages, speed of data extraction, fingerprinting of the browser used, ability to answer random questions (captcha)…</p>
<p>The best practices mentioned later aim to ensure that a bot behaves civilly by adopting behavior close to that of a human without pretending to be one.</p>
<p>It’s also essential to be cautious about the information received through <em>web scraping</em>. Since data is central to some business models, some companies don’t hesitate to send false data to bots rather than blocking them. It’s fair play! Another trap technique is called the <em>honey pot</em>. These are pages that a human would never visit—for example, because they don’t appear in the graphical interface—but where a bot, automatically searching for content, might get stuck.</p>
<p>Without resorting to the strategy of blocking <em>web scraping</em>, other reasons can explain why a data retrieval that worked in the past may no longer work. The most frequent reason is a change in the structure of a website. <em>Web scraping</em> has the disadvantage of retrieving information from a very hierarchical structure. A change in this structure can make a bot incapable of retrieving content. Moreover, to remain attractive, websites frequently change, which can easily render a bot inoperative.</p>
<p>In general, one of the key takeaways from this chapter is that <strong>web scraping is a last resort solution for occasional data retrieval without any guarantee of future functionality</strong>. It is preferable to <strong>favor APIs when they are available</strong>. The latter resemble a contract (formal or not) between a data provider and a user, where needs (the data) and access conditions (number of requests, volume, authentication…) are defined, whereas <em>web scraping</em> is more akin to behavior in the <em>Wild West</em>.</p>
</section>
<section id="best-practices" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="best-practices"><span class="header-section-number">1.3</span> Best Practices</h2>
<p>The ability to retrieve data through a bot does not mean one can afford to be uncivilized. Indeed, when uncontrolled, <em>web scraping</em> can resemble a classic cyberattack aimed at taking down a website: a denial of service. The <a href="https://inseefrlab.github.io/formation-webscraping/">course by Antoine Palazzolo</a> reviews some best practices that have emerged in the scraping community. It is recommended to read this resource to learn more about this topic. Several conventions are discussed, including:</p>
<ul>
<li>Navigate from the site’s root to the <code>robots.txt</code> file to check the guidelines provided by the website’s developers to regulate the behavior of bots;</li>
<li>Space out each request by several seconds, as a human would, to avoid overloading the website and causing it to crash due to a denial of service;</li>
<li>Make requests during the website’s off-peak hours if it is not an internationally accessed site. For example, for a French-language site, running the bot during the night in metropolitan France is a good practice. To run a bot from <code>Python</code> at a pre-scheduled time, there are <code>cronjobs</code>.</li>
</ul>
</section>
</section>
<section id="a-detour-to-the-web-how-does-a-website-work" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> A Detour to the Web: How Does a Website Work?</h1>
<p>Even though this lab doesn’t aim to provide a web course, you still need some basics on how a website works to understand how information is structured on a page.</p>
<p>A website is a collection of pages coded in <em>HTML</em> that describe both the content and the layout of a <em>Web</em> page.</p>
<p>To see this, open any web page and right-click on it.</p>
<ul>
<li>On <code>Chrome</code> <i class="fab fa-chrome"></i>: Then click on <em>“View page source”</em> (<kbd>CTRL</kbd>+<kbd>U</kbd>);</li>
<li>On <code>Firefox</code> <i class="fab fa-firefox"></i>: <em>“View Page Source”</em> (<kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>K</kbd>);</li>
<li>On <code>Edge</code> <i class="fab fa-edge"></i>: <em>“View page source”</em> (<kbd>CTRL</kbd>+<kbd>U</kbd>);</li>
<li>On <code>Safari</code> <i class="fab fa-safari"></i>: see how to do it <a href="https://www.wikihow.com/View-Source-Code">here</a>.</li>
</ul>
<p>If you know which element interests you, you can also open the browser’s inspector (right-click on the element + “Inspect”) to display the tags surrounding your element more ergonomically, like a zoom.</p>
<section id="tags" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="tags"><span class="header-section-number">2.1</span> Tags</h2>
<p>On a web page, you will always find elements like <code>&lt;head&gt;</code>, <code>&lt;title&gt;</code>, etc. These are the codes that allow you to structure the content of an <em>HTML</em> page and are called <strong>tags</strong>.
For example, tags include <code>&lt;p&gt;</code>, <code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code>, <code>&lt;h3&gt;</code>, <code>&lt;strong&gt;</code>, or <code>&lt;em&gt;</code>.
The symbol <code>&lt; &gt;</code> is a tag: it indicates the beginning of a section. The symbol <code>&lt;/ &gt;</code> indicates the end of that section. Most tags come in pairs, with an <em>opening tag</em> and a <em>closing tag</em> (e.g., <code>&lt;p&gt;</code> and <code>&lt;/p&gt;</code>).</p>
<p>For example, the main tags defining the structure of a table are as follows:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Tag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&lt;table&gt;</code></td>
<td>Table</td>
</tr>
<tr class="even">
<td><code>&lt;caption&gt;</code></td>
<td>Table title</td>
</tr>
<tr class="odd">
<td><code>&lt;tr&gt;</code></td>
<td>Table row</td>
</tr>
<tr class="even">
<td><code>&lt;th&gt;</code></td>
<td>Header cell</td>
</tr>
<tr class="odd">
<td><code>&lt;td&gt;</code></td>
<td>Cell</td>
</tr>
<tr class="even">
<td><code>&lt;thead&gt;</code></td>
<td>Table header section</td>
</tr>
<tr class="odd">
<td><code>&lt;tbody&gt;</code></td>
<td>Table body section</td>
</tr>
<tr class="even">
<td><code>&lt;tfoot&gt;</code></td>
<td>Table footer section</td>
</tr>
</tbody>
</table>
<section id="application-a-table-in-html" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="application-a-table-in-html"><span class="header-section-number">2.1.1</span> Application: A Table in HTML</h3>
<p>The <code>HTML</code> code for the following table:</p>
<div class="centering">
<pre class="{html}"><code>&lt;table&gt;
    &lt;caption&gt; Le Titre de mon tableau &lt;/caption&gt;
    &lt;tr&gt;
        &lt;th&gt;Nom&lt;/th&gt;
        &lt;th&gt;Profession&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Astérix&lt;/td&gt;
        &lt;td&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Obélix&lt;/td&gt;
        &lt;td&gt;Tailleur de Menhir&lt;/td&gt;
    &lt;/tr&gt;
&lt;/table&gt;</code></pre>
</div>
<p>Donnera dans le navigateur :</p>
<div class="cell markdown">
<table class="caption-top table table-sm table-striped small">
<caption>Le Titre de mon tableau</caption>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">Nom</th>
<th data-quarto-table-cell-role="th">Profession</th>
</tr>
<tr class="even">
<td>Astérix</td>
<td></td>
</tr>
<tr class="odd">
<td>Obélix</td>
<td>Tailleur de Menhir</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="parent-and-child" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="parent-and-child"><span class="header-section-number">2.1.2</span> Parent and Child</h3>
<p>In the context of HTML language, the terms parent (<em>parent</em>) and child (<em>child</em>) are used to refer to elements nested within each other. In the following construction, for example:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>       bla,bla</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>On the web page, it will appear as follows:</p>
<div class="cell markdown">
<div>
    <p>
       bla,bla
    </p>
</div>
</div>
<p>One would say that the <code>&lt;div&gt;</code> element is the parent of the <code>&lt;p&gt;</code> element, while the <code>&lt;p&gt;</code> element is the child of the <code>&lt;div&gt;</code> element.</p>
<blockquote class="blockquote">
<p><em>But why learn this for “scraping”?</em></p>
</blockquote>
<p>Because to effectively retrieve information from a website, you need to understand its structure and, therefore, its HTML code. The <code>Python</code> functions used for <em>scraping</em> are primarily designed to help you navigate between tags.
With <code>Python</code>, you will essentially replicate your manual search behavior to automate it.</p>
</section>
</section>
</section>
<section id="scraping-with-python-the-beautifulsoup-package" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Scraping with <code>Python</code>: The <code>BeautifulSoup</code> Package</h1>
<section id="available-packages" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="available-packages"><span class="header-section-number">3.1</span> Available Packages</h2>
<p>In the first part of this chapter,
we will primarily use the <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/"><code>BeautifulSoup4</code></a> package,
in conjunction with <a href="https://requests.readthedocs.io/en/latest/"><code>requests</code></a>. The latter package allow you to retrieve the raw text
of a page, which will then be inspected via <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/"><code>BeautifulSoup4</code></a>.</p>
<p><code>BeautifulSoup</code> will suffice when you want to work on static HTML pages. As soon as the information you are looking for is generated via the execution of <a href="https://en.wikipedia.org/wiki/JavaScript">JavaScript</a> scripts, you will need to use tools like <a href="https://selenium-python.readthedocs.io/">Selenium</a>.</p>
<p>Similarly, if you don’t know the URL, you’ll need to use a framework like <a href="https://scrapy.org/">Scrapy</a>, which easily navigates from one page to another. This technique is called <em>“web crawling”</em>. <code>Scrapy</code> is more complex to handle than <code>BeautifulSoup</code>: if you want more details, visit the <a href="https://doc.scrapy.org/en/latest/intro/tutorial.html">Scrapy tutorial page</a>.</p>
<p><em>Web scraping</em> is an area where reproducibility is difficult to implement.
A <em>web</em> page may evolve
regularly, and from one web page to another, the structure can be very different, making some code difficult to export.
Therefore, the best way to have a functional program is
to understand the structure of a web page and distinguish the elements that can be exported
to other use cases from <em>ad hoc</em> requests.</p>
<div id="3a6b6e9f" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install lxml</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install bs4</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Note
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>To be able to use <code>Selenium</code>, it is necessary
to make <code>Python</code> communicate with a web browser (Firefox or Chromium).
The <code>webdriver-manager</code> package allows <code>Python</code> to know where
this browser is located if it is already installed in a standard path.
To install it, the code in the cell below can be used.</p>
</div>
</div>
</div>
<p>To run <code>Selenium</code>, you need to use a package
called <code>webdriver-manager</code>. So, we’ll install it, along with <code>selenium</code>:</p>
<div id="96c90729" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install selenium</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install webdriver<span class="op">-</span>manager</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="retrieve-the-content-of-an-html-page" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="retrieve-the-content-of-an-html-page"><span class="header-section-number">3.2</span> Retrieve the Content of an HTML Page</h2>
<p>Let’s start slowly. Let’s take a Wikipedia page,
for example, the one for the 2019-2020 Ligue 1 football season: <a href="https://en.wikipedia.org/wiki/2019%E2%80%9320_Ligue_1">2019-2020 Championnat de France de football</a>. We will want to retrieve the list of teams, as well as the URLs of the Wikipedia pages for these teams.</p>
<p>Step 1️⃣: Connect to the Wikipedia page and obtain the source code.
For this, the simplest way is to use the <code>requests</code> package.
This allows <code>Python</code> to make the appropriate HTTP request to obtain the content of a page from its URL:</p>
<div id="3c18dedc" class="cell" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>url_ligue_1 <span class="op">=</span> <span class="st">"https://fr.wikipedia.org/wiki/Championnat_de_France_de_football_2019-2020"</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>request_text <span class="op">=</span> requests.get(</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    url_ligue_1,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    headers<span class="op">=</span>{<span class="st">"User-Agent"</span>: <span class="st">"Python for data science tutorial"</span>}</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>).content</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="b425554e" class="cell" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>request_text[:<span class="dv">150</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>b'&lt;!DOCTYPE html&gt;\n&lt;html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature'</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Warning</span>Warning
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>To limit the volume of <em>bot</em> retrieving information from Wikipedia (much used by LLMs, for example), you should now specify a <em>user agent</em> via <code>request</code>. This is a good practice, enabling sites to know who is using their resources.</p>
</div>
</div>
</div>
<p>Step 2️⃣: search this abundant source code for the tags that will extract the information we’re interested in. The main interest of the <code>BeautifulSoup</code> package is to offer easy-to-use methods for searching complex texts for strings of characters from HTML or XML tags.</p>
<div id="14495f25" class="cell" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> bs4</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>page <span class="op">=</span> bs4.BeautifulSoup(request_text, <span class="st">"lxml"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>If we <em>print</em> the <code>page</code> object created with <code>BeautifulSoup</code>,
we see that it is no longer a string but an actual HTML page with tags.
We can now search for elements within these tags.</p>
</section>
<section id="the-find-method" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="the-find-method"><span class="header-section-number">3.3</span> The <code>find</code> method</h2>
<p>As a first illustration of the power of <code>BeautifulSoup</code>, we want to know the title of the page. To do this, we use the <code>.find</code> method and ask it <em>“title”</em>.</p>
<div id="3b92227f" class="cell" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(page.find(<span class="st">"title"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;title&gt;Championnat de France de football 2019-2020 — Wikipédia&lt;/title&gt;</code></pre>
</div>
</div>
<p>The <code>.find</code> method only returns the first occurrence of the element.</p>
<p>To verify this, you can:</p>
<ul>
<li>copy the snippet of source code obtained when you search for a <code>table</code>,</li>
<li>paste it into a cell in your notebook,</li>
<li>and switch the cell to <em>“Markdown”</em>.</li>
</ul>
<p>If we take the previous code and replace <code>title</code> with <code>table</code>, we get</p>
<div id="db6b21b1" class="cell" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(page.find(<span class="st">"table"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<details>
<summary>
Voir le résultat
</summary>
<div id="25a493f6" class="cell" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(page.find(<span class="st">"table"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
<p>which is the source text that generates the following table:</p>
<div class="cell markdown">
<table>
<caption style="background-color:#99cc99;color:#000000;">
Généralités
</caption>
<tbody>
<tr>
<th scope="row" style="width:10.5em;">
Sport
</th>
<td>
<a href="../../wiki/Football" title="Football">Football</a>
</td>
</tr>
<tr>
<th scope="row" style="width:10.5em;">
Organisateur(s)
</th>
<td>
<a href="../../wiki/Ligue_de_football_professionnel_(France)" title="Ligue de football professionnel (France)">LFP</a>
</td>
</tr>
<tr>
<th scope="row" style="width:10.5em;">
Édition
</th>
<td>
<abbr class="abbr" title="Quatre-vingt-deuxième (huitante-deuxième / octante-deuxième)">82<sup>e</sup></abbr>
</td>
</tr>
<tr>
<th scope="row" style="width:10.5em;">
Lieu(x)
</th>
<td>
<span class="datasortkey" data-sort-value="France"><span class="flagicon nowrap"><span class="mw-image-border noviewer" typeof="mw:File"><a class="mw-file-description" href="../../wiki/Fichier:Flag_of_France_(1976–2020).svg" title="Drapeau de la France"><img alt="Drapeau de la France" class="mw-file-element" data-file-height="600" data-file-width="900" decoding="async" height="13" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Flag_of_France_(1976–2020).svg/20px-Flag_of_France_(1976–2020).svg.png" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Flag_of_France_%281976%E2%80%932020%29.svg/40px-Flag_of_France_%281976%E2%80%932020%29.svg.png 1.5x" width="20"></a></span> </span><a href="../../wiki/France" title="France">France</a></span> et <br><span class="datasortkey" data-sort-value="Monaco"><span class="flagicon nowrap"><span class="mw-image-border noviewer" typeof="mw:File"><a class="mw-file-description" href="../../wiki/Fichier:Flag_of_Monaco.svg" title="Drapeau de Monaco"><img alt="Drapeau de Monaco" class="mw-file-element" data-file-height="800" data-file-width="1000" decoding="async" height="16" src="//upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Flag_of_Monaco.svg/20px-Flag_of_Monaco.svg.png" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Flag_of_Monaco.svg/40px-Flag_of_Monaco.svg.png 1.5x" width="20"></a></span> </span><a href="../../wiki/Monaco" title="Monaco">Monaco</a></span>
</td>
</tr>
<tr>
<th scope="row" style="width:10.5em;">
Date
</th>
<td>
Du <time class="nowrap date-lien" data-sort-value="2019-08-09" datetime="2019-08-09"><a href="../../wiki/9_août_en_sport" title="9 août en sport">9</a> <a class="mw-redirect" href="../../wiki/Août_2019_en_sport" title="Août 2019 en sport">août</a> <a href="../../wiki/2019_en_football" title="2019 en football">2019</a></time><br>au <time class="nowrap date-lien" data-sort-value="2020-03-08" datetime="2020-03-08"><a href="../../wiki/8_mars_en_sport" title="8 mars en sport">8 mars</a> <a href="../../wiki/2020_en_football" title="2020 en football">2020</a></time> <small>(arrêt définitif)</small>
</td>
</tr>
<tr>
<th scope="row" style="width:10.5em;">
Participants
</th>
<td>
20 équipes
</td>
</tr>
<tr>
<th scope="row" style="width:10.5em;">
Matchs joués
</th>
<td>
279 (sur 380 prévus)
</td>
</tr>
<tr>
<th scope="row" style="width:10.5em;">
Site web officiel
</th>
<td>
<cite class="ouvrage" id="site_officiel" style="font-style: normal;"><a class="external text" href="https://www.ligue1.fr/" rel="nofollow">Site officiel</a></cite>
</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="the-find_all-method" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="the-find_all-method"><span class="header-section-number">3.4</span> The <code>find_all</code> Method</h2>
<p>To find all occurrences, use <code>.find_all()</code>.</p>
<div id="9921b44d" class="cell" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Il y a"</span>, <span class="bu">len</span>(page.find_all(<span class="st">"table"</span>)), <span class="st">"éléments dans la page qui sont des &lt;table&gt;"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Il y a 34 éléments dans la page qui sont des &lt;table&gt;</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Tip
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p><code>Python</code> is not the only language that allows you to retrieve elements from a web page. This is one of the main objectives of <code>Javascript</code>, which is accessible through any web browser.</p>
<p>For example, to draw a parallel with <code>page.find('title')</code> that we used in <code>Python</code>, you can open the <a href="https://fr.wikipedia.org/wiki/Championnat_de_France_de_football_2019-2020">previously mentioned page</a> with your browser. After opening the browser’s developer tools (<kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>K</kbd> on <code>Firefox</code>), you can type <code>document.querySelector("title")</code> in the console to get the content of the HTML node you are looking for:</p>
<p><a href="./04_webscraping/console_log.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="./04_webscraping/console_log.png" class="img-fluid"></a></p>
<p>If you use <code>Selenium</code> for web scraping, you will actually encounter these <code>Javascript</code> verbs in any method you use.</p>
<p>Understanding the structure of a page and its interaction with the browser is extremely useful when doing <em>scraping</em>, even when the site is purely static, meaning it does not have elements reacting to user actions on the web browser.</p>
</div>
</div>
</div>
</section>
</section>
<section id="guided-exercise-get-the-list-of-ligue-1-teams" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Guided Exercise: Get the List of Ligue 1 Teams</h1>
<p>In the first paragraph of the <em>“Participants”</em> page,
there is a table with the results of the year.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Exercise 1: Retrieve the Participants of Ligue 1
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>To do this, we will proceed in 6 steps:</p>
<ol type="1">
<li>Find the table</li>
<li>Retrieve each row from the table</li>
<li>Clean up the outputs by keeping only the text in a row</li>
<li>Generalize for all rows</li>
<li>Retrieve the table headers</li>
<li>Finalize the table</li>
</ol>
</div>
</div>
</div>
<p>1️⃣ Find the table</p>
<div id="90937b05" class="cell" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># on identifie le tableau en question : c'est le premier qui a cette classe "wikitable sortable"</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>tableau_participants <span class="op">=</span> page.find(<span class="st">'table'</span>, {<span class="st">'class'</span> : <span class="st">'wikitable sortable'</span>})</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="3431d91c" class="cell" data-execution_count="17">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tableau_participants)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>2️⃣ Retrieve each row from the table</p>
<p>Let’s first search for the rows where <code>tr</code> tag appears</p>
<div id="09eab0bc" class="cell" data-execution_count="18">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>table_body <span class="op">=</span> tableau_participants.find(<span class="st">'tbody'</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>rows <span class="op">=</span> table_body.find_all(<span class="st">'tr'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>You get a list where each element is one of the rows in the table.
To illustrate this, we will first display the first row.
This corresponds to the column headers:</p>
<div id="e87d8e45" class="cell" data-execution_count="19">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rows[<span class="dv">0</span>])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>The second row will correspond to the row of the first club listed in the table:</p>
<div id="d4dd1712" class="cell" data-execution_count="20">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rows[<span class="dv">1</span>])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>3️⃣ Clean the outputs by keeping only the text in a row</p>
<p>We will use the <code>text</code> attribute to strip away all the HTML layer we obtained in step 2.</p>
<p>An example on the first club’s row:</p>
<ul>
<li>We start by taking all the cells in that row, using the <code>td</code> tag.</li>
<li>Then, we loop through each cell and keep only the text from the cell using the <code>text</code> attribute.</li>
<li>Finally, we apply the <code>strip()</code> method to ensure the text is properly formatted (no unnecessary spaces, etc.).</li>
</ul>
<div id="84f3d375" class="cell" data-execution_count="21">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> rows[<span class="dv">1</span>].find_all(<span class="st">'td'</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cols[<span class="dv">0</span>])</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cols[<span class="dv">0</span>].text.strip())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;td&gt;&lt;a href="/wiki/Paris_Saint-Germain_Football_Club" title="Paris Saint-Germain Football Club"&gt;Paris Saint-Germain&lt;/a&gt;
&lt;/td&gt;
Paris Saint-Germain</code></pre>
</div>
</div>
<div id="2d5995ea" class="cell" data-execution_count="22">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ele <span class="kw">in</span> cols : </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(ele.text.strip())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Paris Saint-Germain
1974
637
1er
Thomas Tuchel
2018
Parc des Princes
47&nbsp;929
46</code></pre>
</div>
</div>
<p>4️⃣ Generalize for all rows:</p>
<div id="99419774" class="cell" data-execution_count="23">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> rows:</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    cols <span class="op">=</span> row.find_all(<span class="st">'td'</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    cols <span class="op">=</span> [ele.text.strip() <span class="cf">for</span> ele <span class="kw">in</span> cols]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We have successfully retrieved the information contained in the participants’ table.
But the first row is strange: it’s an empty list…</p>
<p>These are the headers: they are recognized by the <code>th</code> tag, not <code>td</code>.</p>
<p>We will put all the content into a dictionary, to later convert it into a pandas DataFrame:</p>
<div id="6274235d" class="cell" data-execution_count="24">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>dico_participants <span class="op">=</span> <span class="bu">dict</span>()</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> rows:</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    cols <span class="op">=</span> row.find_all(<span class="st">'td'</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    cols <span class="op">=</span> [ele.text.strip() <span class="cf">for</span> ele <span class="kw">in</span> cols]</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(cols) <span class="op">&gt;</span> <span class="dv">0</span> : </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>        dico_participants[cols[<span class="dv">0</span>]] <span class="op">=</span> cols[<span class="dv">1</span>:]</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>dico_participants</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="76145ba0" class="cell" data-execution_count="25">
<div class="cell-output cell-output-display">
<script type="ojs-define">{"contents": [{"name": "dico_participants", "value": {"Paris Saint-Germain": ["1974", "637", "1er", "Thomas Tuchel", "2018", "Parc des Princes", "47\u00a0929", "46"], "LOSC Lille": ["2000", "120", "2e", "Christophe Galtier", "2017", "Stade Pierre-Mauroy", "49\u00a0712", "59"], "Olympique lyonnais": ["1989", "310", "3e", "Rudi Garcia", "2019", "Groupama Stadium", "57\u00a0206", "60"], "AS Saint-\u00c9tienne": ["2004", "100", "4e", "Claude Puel", "2019", "Stade Geoffroy-Guichard", "41\u00a0965", "66"], "Olympique de Marseille": ["1996", "110", "5e", "Andr\u00e9 Villas-Boas", "2019", "Orange V\u00e9lodrome", "66\u00a0226", "69"], "Montpellier HSC": ["2009", "40", "6e", "Michel Der Zakarian", "2017", "Stade de la Mosson", "22\u00a0000", "27"], "OGC Nice": ["2002", "50", "7e", "Patrick Vieira", "2018", "Allianz Riviera", "35\u00a0596", "60"], "Stade de Reims": ["2018", "45", "8e", "David Guion", "2017", "Stade Auguste-Delaune", "20\u00a0546", "35"], "N\u00eemes Olympique": ["2018", "27", "9e", "Bernard Blaquart", "2015", "Stade des Costi\u00e8res", "15\u00a0788", "35"], "Stade rennais FC": ["1994", "65", "10e", "Julien St\u00e9phan", "2018", "Roazhon Park", "29\u00a0194", "62"], "RC Strasbourg Alsace": ["2017", "43", "11e", "Thierry Laurey", "2016", "Stade de la Meinau", "26\u00a0109", "58"], "FC Nantes": ["2013", "70", "12e", "Christian Gourcuff", "2019", "Stade de la Beaujoire - Louis Fonteneau", "35\u00a0322", "51"], "SCO d\u2019Angers": ["2015", "32", "13e", "St\u00e9phane Moulin", "2011", "Stade Raymond-Kopa", "14\u00a0582", "27"], "Girondins de Bordeaux": ["1992", "70", "14e", "Paulo Sousa", "2019", "Matmut Atlantique", "42\u00a0115", "66"], "Amiens SC": ["2017", "30", "15e", "Luka Elsner", "2019", "Stade Cr\u00e9dit Agricole la Licorne", "12\u00a0999", "2"], "Toulouse FC": ["2003", "35", "16e", "Denis Zanko", "2020", "Stadium de Toulouse", "33\u00a0033", "32"], "AS Monaco": ["2013", "220", "17e", "Robert Moreno", "2019", "Stade Louis-II", "16\u00a0500", "60"], "Dijon FCO": ["2016", "38", "18e", "St\u00e9phane Jobard", "2019", "Parc des Sports Gaston-G\u00e9rard", "15\u00a0459", "4"], "FC Metz": ["2019", "40", "1er (Ligue 2)", "Vincent Hognon", "2019", "Stade Saint-Symphorien", "25\u00a0865", "61"], "Stade brestois 29": ["2019", "30", "2e (Ligue 2)", "Olivier Dall'Oglio", "2019", "Stade Francis-Le Bl\u00e9", "14\u00a0920", "13"]}}]}</script>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb26" data-startfrom="304" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 303;"><span id="cb26-304"><a href="#cb26-304" aria-hidden="true" tabindex="-1"></a>dico_participants</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-1" data-nodetype="expression">

</div>
</div>
</div>
<div id="cf496a33" class="cell" data-execution_count="26">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>data_participants <span class="op">=</span> pd.DataFrame.from_dict(dico_participants,orient<span class="op">=</span><span class="st">'index'</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>data_participants.head()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">0</th>
<th data-quarto-table-cell-role="th">1</th>
<th data-quarto-table-cell-role="th">2</th>
<th data-quarto-table-cell-role="th">3</th>
<th data-quarto-table-cell-role="th">4</th>
<th data-quarto-table-cell-role="th">5</th>
<th data-quarto-table-cell-role="th">6</th>
<th data-quarto-table-cell-role="th">7</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">Paris Saint-Germain</th>
<td>1974</td>
<td>637</td>
<td>1er</td>
<td>Thomas Tuchel</td>
<td>2018</td>
<td>Parc des Princes</td>
<td>47&nbsp;929</td>
<td>46</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">LOSC Lille</th>
<td>2000</td>
<td>120</td>
<td>2e</td>
<td>Christophe Galtier</td>
<td>2017</td>
<td>Stade Pierre-Mauroy</td>
<td>49&nbsp;712</td>
<td>59</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Olympique lyonnais</th>
<td>1989</td>
<td>310</td>
<td>3e</td>
<td>Rudi Garcia</td>
<td>2019</td>
<td>Groupama Stadium</td>
<td>57&nbsp;206</td>
<td>60</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">AS Saint-Étienne</th>
<td>2004</td>
<td>100</td>
<td>4e</td>
<td>Claude Puel</td>
<td>2019</td>
<td>Stade Geoffroy-Guichard</td>
<td>41&nbsp;965</td>
<td>66</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Olympique de Marseille</th>
<td>1996</td>
<td>110</td>
<td>5e</td>
<td>André Villas-Boas</td>
<td>2019</td>
<td>Orange Vélodrome</td>
<td>66&nbsp;226</td>
<td>69</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>5️⃣ Retrieve the table headers:</p>
<div id="3eddb6fb" class="cell" data-execution_count="27">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> rows:</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    cols <span class="op">=</span> row.find_all(<span class="st">'th'</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(cols)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(cols) <span class="op">&gt;</span> <span class="dv">0</span> : </span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>        cols <span class="op">=</span> [ele.get_text(separator<span class="op">=</span><span class="st">' '</span>).strip().title() <span class="cf">for</span> ele <span class="kw">in</span> cols]</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>        columns_participants <span class="op">=</span> cols</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="08546b21" class="cell" data-execution_count="28">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>columns_participants</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>['Club',
 'Dernière Montée',
 'Budget [ 3 ] En M €',
 'Classement 2018-2019',
 'Entraîneur',
 'Depuis',
 'Stade',
 'Capacité En L1 [ 4 ]',
 'Nombre De Saisons En L1']</code></pre>
</div>
</div>
<p>6️⃣ Finalize the table</p>
<div id="56acf566" class="cell" data-execution_count="29">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>data_participants.columns <span class="op">=</span> columns_participants[<span class="dv">1</span>:]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="d8aad59b" class="cell" data-execution_count="30">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>data_participants.head()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Dernière Montée</th>
<th data-quarto-table-cell-role="th">Budget [ 3 ] En M €</th>
<th data-quarto-table-cell-role="th">Classement 2018-2019</th>
<th data-quarto-table-cell-role="th">Entraîneur</th>
<th data-quarto-table-cell-role="th">Depuis</th>
<th data-quarto-table-cell-role="th">Stade</th>
<th data-quarto-table-cell-role="th">Capacité En L1 [ 4 ]</th>
<th data-quarto-table-cell-role="th">Nombre De Saisons En L1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">Paris Saint-Germain</th>
<td>1974</td>
<td>637</td>
<td>1er</td>
<td>Thomas Tuchel</td>
<td>2018</td>
<td>Parc des Princes</td>
<td>47&nbsp;929</td>
<td>46</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">LOSC Lille</th>
<td>2000</td>
<td>120</td>
<td>2e</td>
<td>Christophe Galtier</td>
<td>2017</td>
<td>Stade Pierre-Mauroy</td>
<td>49&nbsp;712</td>
<td>59</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Olympique lyonnais</th>
<td>1989</td>
<td>310</td>
<td>3e</td>
<td>Rudi Garcia</td>
<td>2019</td>
<td>Groupama Stadium</td>
<td>57&nbsp;206</td>
<td>60</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">AS Saint-Étienne</th>
<td>2004</td>
<td>100</td>
<td>4e</td>
<td>Claude Puel</td>
<td>2019</td>
<td>Stade Geoffroy-Guichard</td>
<td>41&nbsp;965</td>
<td>66</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Olympique de Marseille</th>
<td>1996</td>
<td>110</td>
<td>5e</td>
<td>André Villas-Boas</td>
<td>2019</td>
<td>Orange Vélodrome</td>
<td>66&nbsp;226</td>
<td>69</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="going-further" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Going Further</h1>
<section id="retrieving-stadium-locations" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="retrieving-stadium-locations"><span class="header-section-number">5.1</span> Retrieving stadium Locations</h2>
<p>Try to understand step by step what is done in the following steps (retrieving additional information by navigating through the pages of the different clubs).</p>
<div id="retrieve-stadium-location" class="cell" data-execution_count="31">
<details class="code-fold">
<summary>Code pour récupérer l’emplacement des stades</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> bs4</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> retrieve_page(url: <span class="bu">str</span>) <span class="op">-&gt;</span> bs4.BeautifulSoup:</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co">    Retrieves and parses a webpage using BeautifulSoup.</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="co">        url (str): The URL of the webpage to retrieve.</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="co">        bs4.BeautifulSoup: The parsed HTML content of the page.</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>    r <span class="op">=</span> requests.get(url, headers<span class="op">=</span>{<span class="st">"User-Agent"</span>: <span class="st">"Python for data science tutorial"</span>})</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>    page <span class="op">=</span> bs4.BeautifulSoup(r.content, <span class="st">'html.parser'</span>)</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> page</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_team_name_url(team: bs4.element.Tag) <span class="op">-&gt;</span> <span class="bu">dict</span>:</span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a><span class="co">    Extracts the team name and its corresponding Wikipedia URL.</span></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a><span class="co">        team (bs4.element.Tag): The BeautifulSoup tag containing the team information.</span></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a><span class="co">        dict: A dictionary with the team name as the key and the Wikipedia URL as the value, or None if not found.</span></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>        team_url <span class="op">=</span> team.find(<span class="st">'a'</span>).get(<span class="st">'href'</span>)</span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>        equipe <span class="op">=</span> team.find(<span class="st">'a'</span>).get(<span class="st">'title'</span>)</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>        url_get_info <span class="op">=</span> <span class="ss">f"http://fr.wikipedia.org</span><span class="sc">{</span>team_url<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Retrieving information for </span><span class="sc">{</span>equipe<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {equipe: url_get_info}</span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">AttributeError</span>:</span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"No &lt;a&gt; tag for </span><span class="ch">\"</span><span class="sc">{</span>team<span class="sc">}</span><span class="ch">\"</span><span class="ss">"</span>)</span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> explore_team_page(wikipedia_team_url: <span class="bu">str</span>) <span class="op">-&gt;</span> bs4.BeautifulSoup:</span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a><span class="co">    Retrieves and parses a team's Wikipedia page.</span></span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-46"><a href="#cb33-46" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb33-47"><a href="#cb33-47" aria-hidden="true" tabindex="-1"></a><span class="co">        wikipedia_team_url (str): The URL of the team's Wikipedia page.</span></span>
<span id="cb33-48"><a href="#cb33-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-49"><a href="#cb33-49" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb33-50"><a href="#cb33-50" aria-hidden="true" tabindex="-1"></a><span class="co">        bs4.BeautifulSoup: The parsed HTML content of the team's Wikipedia page.</span></span>
<span id="cb33-51"><a href="#cb33-51" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb33-52"><a href="#cb33-52" aria-hidden="true" tabindex="-1"></a>    r <span class="op">=</span> requests.get(</span>
<span id="cb33-53"><a href="#cb33-53" aria-hidden="true" tabindex="-1"></a>        wikipedia_team_url, headers<span class="op">=</span>{<span class="st">"User-Agent"</span>: <span class="st">"Python for data science tutorial"</span>}</span>
<span id="cb33-54"><a href="#cb33-54" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-55"><a href="#cb33-55" aria-hidden="true" tabindex="-1"></a>    page <span class="op">=</span> bs4.BeautifulSoup(r.content, <span class="st">'html.parser'</span>)</span>
<span id="cb33-56"><a href="#cb33-56" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> page</span>
<span id="cb33-57"><a href="#cb33-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-58"><a href="#cb33-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-59"><a href="#cb33-59" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_stadium_info(search_team: bs4.BeautifulSoup) <span class="op">-&gt;</span> <span class="bu">tuple</span>:</span>
<span id="cb33-60"><a href="#cb33-60" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb33-61"><a href="#cb33-61" aria-hidden="true" tabindex="-1"></a><span class="co">    Extracts stadium information from a team's Wikipedia page.</span></span>
<span id="cb33-62"><a href="#cb33-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-63"><a href="#cb33-63" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb33-64"><a href="#cb33-64" aria-hidden="true" tabindex="-1"></a><span class="co">        search_team (bs4.BeautifulSoup): The parsed HTML content of the team's Wikipedia page.</span></span>
<span id="cb33-65"><a href="#cb33-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-66"><a href="#cb33-66" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb33-67"><a href="#cb33-67" aria-hidden="true" tabindex="-1"></a><span class="co">        tuple: A tuple containing the stadium name, latitude, and longitude, or (None, None, None) if not found.</span></span>
<span id="cb33-68"><a href="#cb33-68" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb33-69"><a href="#cb33-69" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> stadium <span class="kw">in</span> search_team.find_all(<span class="st">'tr'</span>):</span>
<span id="cb33-70"><a href="#cb33-70" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb33-71"><a href="#cb33-71" aria-hidden="true" tabindex="-1"></a>            header <span class="op">=</span> stadium.find(<span class="st">'th'</span>, {<span class="st">'scope'</span>: <span class="st">'row'</span>})</span>
<span id="cb33-72"><a href="#cb33-72" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> header <span class="kw">and</span> header.contents[<span class="dv">0</span>].string <span class="op">==</span> <span class="st">"Stade"</span>:</span>
<span id="cb33-73"><a href="#cb33-73" aria-hidden="true" tabindex="-1"></a>                name_stadium, url_get_stade <span class="op">=</span> extract_stadium_name_url(stadium)</span>
<span id="cb33-74"><a href="#cb33-74" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> name_stadium <span class="kw">and</span> url_get_stade:</span>
<span id="cb33-75"><a href="#cb33-75" aria-hidden="true" tabindex="-1"></a>                    latitude, longitude <span class="op">=</span> extract_stadium_coordinates(url_get_stade)</span>
<span id="cb33-76"><a href="#cb33-76" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">return</span> name_stadium, latitude, longitude</span>
<span id="cb33-77"><a href="#cb33-77" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> (<span class="pp">AttributeError</span>, <span class="pp">IndexError</span>) <span class="im">as</span> e:</span>
<span id="cb33-78"><a href="#cb33-78" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"Error processing stadium information: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb33-79"><a href="#cb33-79" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span>, <span class="va">None</span>, <span class="va">None</span></span>
<span id="cb33-80"><a href="#cb33-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-81"><a href="#cb33-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-82"><a href="#cb33-82" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_stadium_name_url(stadium: bs4.element.Tag) <span class="op">-&gt;</span> <span class="bu">tuple</span>:</span>
<span id="cb33-83"><a href="#cb33-83" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb33-84"><a href="#cb33-84" aria-hidden="true" tabindex="-1"></a><span class="co">    Extracts the stadium name and URL from a stadium element.</span></span>
<span id="cb33-85"><a href="#cb33-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-86"><a href="#cb33-86" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb33-87"><a href="#cb33-87" aria-hidden="true" tabindex="-1"></a><span class="co">        stadium (bs4.element.Tag): The BeautifulSoup tag containing the stadium information.</span></span>
<span id="cb33-88"><a href="#cb33-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-89"><a href="#cb33-89" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb33-90"><a href="#cb33-90" aria-hidden="true" tabindex="-1"></a><span class="co">        tuple: A tuple containing the stadium name and its Wikipedia URL, or (None, None) if not found.</span></span>
<span id="cb33-91"><a href="#cb33-91" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb33-92"><a href="#cb33-92" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb33-93"><a href="#cb33-93" aria-hidden="true" tabindex="-1"></a>        url_stade <span class="op">=</span> stadium.find_all(<span class="st">'a'</span>)[<span class="dv">1</span>].get(<span class="st">'href'</span>)</span>
<span id="cb33-94"><a href="#cb33-94" aria-hidden="true" tabindex="-1"></a>        name_stadium <span class="op">=</span> stadium.find_all(<span class="st">'a'</span>)[<span class="dv">1</span>].get(<span class="st">'title'</span>)</span>
<span id="cb33-95"><a href="#cb33-95" aria-hidden="true" tabindex="-1"></a>        url_get_stade <span class="op">=</span> <span class="ss">f"http://fr.wikipedia.org</span><span class="sc">{</span>url_stade<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb33-96"><a href="#cb33-96" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> name_stadium, url_get_stade</span>
<span id="cb33-97"><a href="#cb33-97" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> (<span class="pp">AttributeError</span>, <span class="pp">IndexError</span>) <span class="im">as</span> e:</span>
<span id="cb33-98"><a href="#cb33-98" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Error extracting stadium name and URL: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb33-99"><a href="#cb33-99" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span>, <span class="va">None</span></span>
<span id="cb33-100"><a href="#cb33-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-101"><a href="#cb33-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-102"><a href="#cb33-102" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_stadium_coordinates(url_get_stade: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">tuple</span>:</span>
<span id="cb33-103"><a href="#cb33-103" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb33-104"><a href="#cb33-104" aria-hidden="true" tabindex="-1"></a><span class="co">    Extracts the coordinates of a stadium from its Wikipedia page.</span></span>
<span id="cb33-105"><a href="#cb33-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-106"><a href="#cb33-106" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb33-107"><a href="#cb33-107" aria-hidden="true" tabindex="-1"></a><span class="co">        url_get_stade (str): The URL of the stadium's Wikipedia page.</span></span>
<span id="cb33-108"><a href="#cb33-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-109"><a href="#cb33-109" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb33-110"><a href="#cb33-110" aria-hidden="true" tabindex="-1"></a><span class="co">        tuple: A tuple containing the latitude and longitude of the stadium, or (None, None) if not found.</span></span>
<span id="cb33-111"><a href="#cb33-111" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb33-112"><a href="#cb33-112" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb33-113"><a href="#cb33-113" aria-hidden="true" tabindex="-1"></a>        soup_stade <span class="op">=</span> retrieve_page(url_get_stade)</span>
<span id="cb33-114"><a href="#cb33-114" aria-hidden="true" tabindex="-1"></a>        kartographer <span class="op">=</span> soup_stade.find(<span class="st">'a'</span>, {<span class="st">'class'</span>: <span class="st">"mw-kartographer-maplink"</span>})</span>
<span id="cb33-115"><a href="#cb33-115" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> kartographer:</span>
<span id="cb33-116"><a href="#cb33-116" aria-hidden="true" tabindex="-1"></a>            coordinates <span class="op">=</span> kartographer.get(<span class="st">'data-lat'</span>) <span class="op">+</span> <span class="st">","</span> <span class="op">+</span> kartographer.get(<span class="st">'data-lon'</span>)</span>
<span id="cb33-117"><a href="#cb33-117" aria-hidden="true" tabindex="-1"></a>            latitude, longitude <span class="op">=</span> coordinates.split(<span class="st">","</span>)</span>
<span id="cb33-118"><a href="#cb33-118" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> latitude.strip(), longitude.strip()</span>
<span id="cb33-119"><a href="#cb33-119" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb33-120"><a href="#cb33-120" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">None</span>, <span class="va">None</span></span>
<span id="cb33-121"><a href="#cb33-121" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb33-122"><a href="#cb33-122" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Error extracting stadium coordinates: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb33-123"><a href="#cb33-123" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span>, <span class="va">None</span></span>
<span id="cb33-124"><a href="#cb33-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-125"><a href="#cb33-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-126"><a href="#cb33-126" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_team_info(url_team_tag: bs4.element.Tag, division: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">dict</span>:</span>
<span id="cb33-127"><a href="#cb33-127" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb33-128"><a href="#cb33-128" aria-hidden="true" tabindex="-1"></a><span class="co">    Extracts information about a team, including its stadium and coordinates.</span></span>
<span id="cb33-129"><a href="#cb33-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-130"><a href="#cb33-130" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb33-131"><a href="#cb33-131" aria-hidden="true" tabindex="-1"></a><span class="co">        url_team_tag (bs4.element.Tag): The BeautifulSoup tag containing the team information.</span></span>
<span id="cb33-132"><a href="#cb33-132" aria-hidden="true" tabindex="-1"></a><span class="co">        division (str): Team league</span></span>
<span id="cb33-133"><a href="#cb33-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-134"><a href="#cb33-134" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb33-135"><a href="#cb33-135" aria-hidden="true" tabindex="-1"></a><span class="co">        dict: A dictionary with details about the team, including its division, name, stadium, latitude, and longitude.</span></span>
<span id="cb33-136"><a href="#cb33-136" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb33-137"><a href="#cb33-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-138"><a href="#cb33-138" aria-hidden="true" tabindex="-1"></a>    team_info <span class="op">=</span> extract_team_name_url(url_team_tag)</span>
<span id="cb33-139"><a href="#cb33-139" aria-hidden="true" tabindex="-1"></a>    url_team_wikipedia <span class="op">=</span> <span class="bu">next</span>(<span class="bu">iter</span>(team_info.values()))</span>
<span id="cb33-140"><a href="#cb33-140" aria-hidden="true" tabindex="-1"></a>    name_team <span class="op">=</span> <span class="bu">next</span>(<span class="bu">iter</span>(team_info.keys()))</span>
<span id="cb33-141"><a href="#cb33-141" aria-hidden="true" tabindex="-1"></a>    search_team <span class="op">=</span> explore_team_page(url_team_wikipedia)</span>
<span id="cb33-142"><a href="#cb33-142" aria-hidden="true" tabindex="-1"></a>    name_stadium, latitude, longitude <span class="op">=</span> extract_stadium_info(search_team)</span>
<span id="cb33-143"><a href="#cb33-143" aria-hidden="true" tabindex="-1"></a>    dict_stadium_team <span class="op">=</span> {</span>
<span id="cb33-144"><a href="#cb33-144" aria-hidden="true" tabindex="-1"></a>        <span class="st">'division'</span>: division,</span>
<span id="cb33-145"><a href="#cb33-145" aria-hidden="true" tabindex="-1"></a>        <span class="st">'equipe'</span>: name_team,</span>
<span id="cb33-146"><a href="#cb33-146" aria-hidden="true" tabindex="-1"></a>        <span class="st">'stade'</span>: name_stadium,</span>
<span id="cb33-147"><a href="#cb33-147" aria-hidden="true" tabindex="-1"></a>        <span class="st">'latitude'</span>: latitude,</span>
<span id="cb33-148"><a href="#cb33-148" aria-hidden="true" tabindex="-1"></a>        <span class="st">'longitude'</span>: longitude</span>
<span id="cb33-149"><a href="#cb33-149" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb33-150"><a href="#cb33-150" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> dict_stadium_team</span>
<span id="cb33-151"><a href="#cb33-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-152"><a href="#cb33-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-153"><a href="#cb33-153" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> retrieve_all_stadium_from_league(url_list: <span class="bu">dict</span>, division: <span class="bu">str</span> <span class="op">=</span> <span class="st">"L1"</span>) <span class="op">-&gt;</span> pd.DataFrame:</span>
<span id="cb33-154"><a href="#cb33-154" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb33-155"><a href="#cb33-155" aria-hidden="true" tabindex="-1"></a><span class="co">    Retrieves information about all stadiums in a league.</span></span>
<span id="cb33-156"><a href="#cb33-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-157"><a href="#cb33-157" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb33-158"><a href="#cb33-158" aria-hidden="true" tabindex="-1"></a><span class="co">        url_list (dict): A dictionary mapping divisions to their Wikipedia URLs.</span></span>
<span id="cb33-159"><a href="#cb33-159" aria-hidden="true" tabindex="-1"></a><span class="co">        division (str): The division for which to retrieve stadium information.</span></span>
<span id="cb33-160"><a href="#cb33-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-161"><a href="#cb33-161" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb33-162"><a href="#cb33-162" aria-hidden="true" tabindex="-1"></a><span class="co">        pd.DataFrame: A DataFrame containing information about the stadiums in the specified division.</span></span>
<span id="cb33-163"><a href="#cb33-163" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb33-164"><a href="#cb33-164" aria-hidden="true" tabindex="-1"></a>    page <span class="op">=</span> retrieve_page(url_list[division])</span>
<span id="cb33-165"><a href="#cb33-165" aria-hidden="true" tabindex="-1"></a>    teams <span class="op">=</span> page.find_all(<span class="st">'span'</span>, {<span class="st">'class'</span>: <span class="st">'toponyme'</span>})</span>
<span id="cb33-166"><a href="#cb33-166" aria-hidden="true" tabindex="-1"></a>    all_info <span class="op">=</span> []</span>
<span id="cb33-167"><a href="#cb33-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-168"><a href="#cb33-168" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> team <span class="kw">in</span> teams:</span>
<span id="cb33-169"><a href="#cb33-169" aria-hidden="true" tabindex="-1"></a>        all_info.append(extract_team_info(team, division))</span>
<span id="cb33-170"><a href="#cb33-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-171"><a href="#cb33-171" aria-hidden="true" tabindex="-1"></a>    stadium_df <span class="op">=</span> pd.DataFrame(all_info)</span>
<span id="cb33-172"><a href="#cb33-172" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> stadium_df</span>
<span id="cb33-173"><a href="#cb33-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-174"><a href="#cb33-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-175"><a href="#cb33-175" aria-hidden="true" tabindex="-1"></a><span class="co"># URLs for different divisions</span></span>
<span id="cb33-176"><a href="#cb33-176" aria-hidden="true" tabindex="-1"></a>url_list <span class="op">=</span> {</span>
<span id="cb33-177"><a href="#cb33-177" aria-hidden="true" tabindex="-1"></a>    <span class="st">"L1"</span>: <span class="st">"http://fr.wikipedia.org/wiki/Championnat_de_France_de_football_2019-2020"</span>,</span>
<span id="cb33-178"><a href="#cb33-178" aria-hidden="true" tabindex="-1"></a>    <span class="st">"L2"</span>: <span class="st">"http://fr.wikipedia.org/wiki/Championnat_de_France_de_football_de_Ligue_2_2019-2020"</span></span>
<span id="cb33-179"><a href="#cb33-179" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-180"><a href="#cb33-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-181"><a href="#cb33-181" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve stadiums information for Ligue 1</span></span>
<span id="cb33-182"><a href="#cb33-182" aria-hidden="true" tabindex="-1"></a>stades_ligue1 <span class="op">=</span> retrieve_all_stadium_from_league(url_list, <span class="st">"L1"</span>)</span>
<span id="cb33-183"><a href="#cb33-183" aria-hidden="true" tabindex="-1"></a>stades_ligue2 <span class="op">=</span> retrieve_all_stadium_from_league(url_list, <span class="st">"L2"</span>)</span>
<span id="cb33-184"><a href="#cb33-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-185"><a href="#cb33-185" aria-hidden="true" tabindex="-1"></a>stades <span class="op">=</span> pd.concat(</span>
<span id="cb33-186"><a href="#cb33-186" aria-hidden="true" tabindex="-1"></a>    [stades_ligue1, stades_ligue2]</span>
<span id="cb33-187"><a href="#cb33-187" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="ae12ded1" class="cell" data-execution_count="32">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>stades.head(<span class="dv">5</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">division</th>
<th data-quarto-table-cell-role="th">equipe</th>
<th data-quarto-table-cell-role="th">stade</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>L1</td>
<td>Paris Saint-Germain Football Club</td>
<td>Parc des Princes</td>
<td>48.8413634</td>
<td>2.2530693</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>L1</td>
<td>LOSC Lille</td>
<td>Stade Pierre-Mauroy</td>
<td>50.611962</td>
<td>3.130631</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>L1</td>
<td>Olympique lyonnais</td>
<td>Parc Olympique lyonnais</td>
<td>45.7652477</td>
<td>4.9818707</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>L1</td>
<td>Association sportive de Saint-Étienne</td>
<td>Stade Geoffroy-Guichard</td>
<td>45.460856</td>
<td>4.390344</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>L1</td>
<td>Olympique de Marseille</td>
<td>Stade Vélodrome</td>
<td>43.269806</td>
<td>5.395922</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>At this stage, everything is in place to create a beautiful map. We will
use <code>folium</code> for this, which is introduced in the
<a href="../../conent/visualisation/index.qmd">visualization</a> section.</p>
</section>
<section id="cartes-stades-ligue1-en" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="cartes-stades-ligue1-en"><span class="header-section-number">5.2</span> Stadium Map with <code>folium</code></h2>
<div id="map-stadium-location" class="cell" data-execution_count="33">
<details class="code-fold">
<summary>Code pour produire la carte</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> folium</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>stades <span class="op">=</span> stades.dropna(subset <span class="op">=</span> [<span class="st">'latitude'</span>, <span class="st">'longitude'</span>])</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>stades.loc[:, [<span class="st">'latitude'</span>, <span class="st">'longitude'</span>]] <span class="op">=</span> (</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    stades</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    .loc[:, [<span class="st">'latitude'</span>, <span class="st">'longitude'</span>]]</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    .astype(<span class="bu">float</span>)</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>stadium_locations <span class="op">=</span> gpd.GeoDataFrame(</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>    stades, geometry <span class="op">=</span> gpd.points_from_xy(stades.longitude, stades.latitude)</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>center <span class="op">=</span> stadium_locations[[<span class="st">'latitude'</span>, <span class="st">'longitude'</span>]].mean().values.tolist()</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>sw <span class="op">=</span> stadium_locations[[<span class="st">'latitude'</span>, <span class="st">'longitude'</span>]].<span class="bu">min</span>().values.tolist()</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>ne <span class="op">=</span> stadium_locations[[<span class="st">'latitude'</span>, <span class="st">'longitude'</span>]].<span class="bu">max</span>().values.tolist()</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location <span class="op">=</span> center, tiles<span class="op">=</span><span class="st">'openstreetmap'</span>)</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a><span class="co"># I can add marker one by one on the map</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>,<span class="bu">len</span>(stadium_locations)):</span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>    folium.Marker(</span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>        [stadium_locations.iloc[i][<span class="st">'latitude'</span>], stadium_locations.iloc[i][<span class="st">'longitude'</span>]],</span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>        popup<span class="op">=</span>stadium_locations.iloc[i][<span class="st">'stade'</span>]</span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>    ).add_to(m)</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>m.fit_bounds([sw, ne])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>The resulting map should look like the following:</p>
<div id="bbad4280" class="cell" data-execution_count="34">
<div class="cell-output cell-output-display" data-execution_count="30">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_9dad34a6ec52d2136dfcb672bb00fbcc {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_9dad34a6ec52d2136dfcb672bb00fbcc&quot; ></div>
        
</body>
<script>
    
    
            var map_9dad34a6ec52d2136dfcb672bb00fbcc = L.map(
                &quot;map_9dad34a6ec52d2136dfcb672bb00fbcc&quot;,
                {
                    center: [47.1240047591224, 2.73062908056198],
                    crs: L.CRS.EPSG3857,
                    ...{
  &quot;zoom&quot;: 10,
  &quot;zoomControl&quot;: true,
  &quot;preferCanvas&quot;: false,
}

                }
            );

            

        
    
            var tile_layer_443baa16bfb8a2d5ad6254e58e4fd128 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {
  &quot;minZoom&quot;: 0,
  &quot;maxZoom&quot;: 19,
  &quot;maxNativeZoom&quot;: 19,
  &quot;noWrap&quot;: false,
  &quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;,
  &quot;subdomains&quot;: &quot;abc&quot;,
  &quot;detectRetina&quot;: false,
  &quot;tms&quot;: false,
  &quot;opacity&quot;: 1,
}

            );
        
    
            tile_layer_443baa16bfb8a2d5ad6254e58e4fd128.addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
            var marker_732ad120705a87569dc0425ff56413ca = L.marker(
                [48.8413634, 2.2530693],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_bcc65eec3d2888307474c8d1adc8ed2e = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_2a201d0606c440ca81f26443ec8113f0 = $(`<div id=&quot;html_2a201d0606c440ca81f26443ec8113f0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parc des Princes</div>`)[0];
                popup_bcc65eec3d2888307474c8d1adc8ed2e.setContent(html_2a201d0606c440ca81f26443ec8113f0);
            
        

        marker_732ad120705a87569dc0425ff56413ca.bindPopup(popup_bcc65eec3d2888307474c8d1adc8ed2e)
        ;

        
    
    
            var marker_df1d8d0d3177d0d79ea811765cb23650 = L.marker(
                [50.611962, 3.130631],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_45bc43353f9a82bd119cf8140068c9fb = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_1544e3545fb0cd1c7e97fe529fbbbb03 = $(`<div id=&quot;html_1544e3545fb0cd1c7e97fe529fbbbb03&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Pierre-Mauroy</div>`)[0];
                popup_45bc43353f9a82bd119cf8140068c9fb.setContent(html_1544e3545fb0cd1c7e97fe529fbbbb03);
            
        

        marker_df1d8d0d3177d0d79ea811765cb23650.bindPopup(popup_45bc43353f9a82bd119cf8140068c9fb)
        ;

        
    
    
            var marker_8dc3cf276ce55d3b99d862bdca8f2c33 = L.marker(
                [45.7652477, 4.9818707],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_462a5cc63611ebb2b37e06c277b0f2fa = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_6241b0e2947e1a7a9e2d6e5717723c8f = $(`<div id=&quot;html_6241b0e2947e1a7a9e2d6e5717723c8f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parc Olympique lyonnais</div>`)[0];
                popup_462a5cc63611ebb2b37e06c277b0f2fa.setContent(html_6241b0e2947e1a7a9e2d6e5717723c8f);
            
        

        marker_8dc3cf276ce55d3b99d862bdca8f2c33.bindPopup(popup_462a5cc63611ebb2b37e06c277b0f2fa)
        ;

        
    
    
            var marker_3965d5f7884124c955c57e01eb92de5c = L.marker(
                [45.460856, 4.390344],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_6a8ed555f518f0df988d37c93b11fad7 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_4106f65a88311d68dd6056c12538ff7c = $(`<div id=&quot;html_4106f65a88311d68dd6056c12538ff7c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Geoffroy-Guichard</div>`)[0];
                popup_6a8ed555f518f0df988d37c93b11fad7.setContent(html_4106f65a88311d68dd6056c12538ff7c);
            
        

        marker_3965d5f7884124c955c57e01eb92de5c.bindPopup(popup_6a8ed555f518f0df988d37c93b11fad7)
        ;

        
    
    
            var marker_0ca65e4834ad0ed9025e745da0c3966d = L.marker(
                [43.269806, 5.395922],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_787ba24ec8ed03b232c53e00ac549b0c = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_2707b7b41671fe84892060fafccb5795 = $(`<div id=&quot;html_2707b7b41671fe84892060fafccb5795&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Vélodrome</div>`)[0];
                popup_787ba24ec8ed03b232c53e00ac549b0c.setContent(html_2707b7b41671fe84892060fafccb5795);
            
        

        marker_0ca65e4834ad0ed9025e745da0c3966d.bindPopup(popup_787ba24ec8ed03b232c53e00ac549b0c)
        ;

        
    
    
            var marker_d377b4c1f4c035cb02ef7df6d97e63e8 = L.marker(
                [43.621856, 3.8122183],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_755b78b0ad479a6e5ef53b5ef0cfde74 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_06c94527ea65f294c2f5c7a3d2316162 = $(`<div id=&quot;html_06c94527ea65f294c2f5c7a3d2316162&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade de la Mosson</div>`)[0];
                popup_755b78b0ad479a6e5ef53b5ef0cfde74.setContent(html_06c94527ea65f294c2f5c7a3d2316162);
            
        

        marker_d377b4c1f4c035cb02ef7df6d97e63e8.bindPopup(popup_755b78b0ad479a6e5ef53b5ef0cfde74)
        ;

        
    
    
            var marker_0964064e1336d687c330b6101f83238e = L.marker(
                [49.246704, 4.024962],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_7b1fd4ef8b3ac551bd27514c8917fe91 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_2d3984d3521ba06afc384a33e2786e7e = $(`<div id=&quot;html_2d3984d3521ba06afc384a33e2786e7e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Auguste-Delaune</div>`)[0];
                popup_7b1fd4ef8b3ac551bd27514c8917fe91.setContent(html_2d3984d3521ba06afc384a33e2786e7e);
            
        

        marker_0964064e1336d687c330b6101f83238e.bindPopup(popup_7b1fd4ef8b3ac551bd27514c8917fe91)
        ;

        
    
    
            var marker_38bec2aadd2b2d6563000ce1028f54a4 = L.marker(
                [43.704926, 7.192608],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_3179e73b7792cc5da197ad494944ae62 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_c0123dea59658daea789b212672b77fb = $(`<div id=&quot;html_c0123dea59658daea789b212672b77fb&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Allianz Riviera</div>`)[0];
                popup_3179e73b7792cc5da197ad494944ae62.setContent(html_c0123dea59658daea789b212672b77fb);
            
        

        marker_38bec2aadd2b2d6563000ce1028f54a4.bindPopup(popup_3179e73b7792cc5da197ad494944ae62)
        ;

        
    
    
            var marker_b6824025c47e3501739cc0ce84c7fa33 = L.marker(
                [43.8109, 4.3565016],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_86e31b90b7b19f4201a938744f3b0862 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_0dfbda74971f6aef69593d1343967f73 = $(`<div id=&quot;html_0dfbda74971f6aef69593d1343967f73&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade des Antonins</div>`)[0];
                popup_86e31b90b7b19f4201a938744f3b0862.setContent(html_0dfbda74971f6aef69593d1343967f73);
            
        

        marker_b6824025c47e3501739cc0ce84c7fa33.bindPopup(popup_86e31b90b7b19f4201a938744f3b0862)
        ;

        
    
    
            var marker_677889783440730b49385e4f3ed16a16 = L.marker(
                [48.560064, 7.754969],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_26463764285e8b74ffd462729a63a8c8 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_13f66e4c21a4c8ee190d64e908162aea = $(`<div id=&quot;html_13f66e4c21a4c8ee190d64e908162aea&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade de la Meinau</div>`)[0];
                popup_26463764285e8b74ffd462729a63a8c8.setContent(html_13f66e4c21a4c8ee190d64e908162aea);
            
        

        marker_677889783440730b49385e4f3ed16a16.bindPopup(popup_26463764285e8b74ffd462729a63a8c8)
        ;

        
    
    
            var marker_caa8b3e0e90eb4b88f25fb7db69577cb = L.marker(
                [48.1075, -1.712778],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_c96651dfffdf3006620015d6729f7271 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_0e000ded39bccd2c7416a414f2ae1840 = $(`<div id=&quot;html_0e000ded39bccd2c7416a414f2ae1840&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Roazhon Park</div>`)[0];
                popup_c96651dfffdf3006620015d6729f7271.setContent(html_0e000ded39bccd2c7416a414f2ae1840);
            
        

        marker_caa8b3e0e90eb4b88f25fb7db69577cb.bindPopup(popup_c96651dfffdf3006620015d6729f7271)
        ;

        
    
    
            var marker_c8f2ae5639e1e6dc3c0f3b7f00d0efac = L.marker(
                [47.460458, -0.530741],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_8f6f1cc95a114a25fae49260d41a51c3 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_984bc4b853c79a941e8bd52d5408a379 = $(`<div id=&quot;html_984bc4b853c79a941e8bd52d5408a379&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Raymond-Kopa</div>`)[0];
                popup_8f6f1cc95a114a25fae49260d41a51c3.setContent(html_984bc4b853c79a941e8bd52d5408a379);
            
        

        marker_c8f2ae5639e1e6dc3c0f3b7f00d0efac.bindPopup(popup_8f6f1cc95a114a25fae49260d41a51c3)
        ;

        
    
    
            var marker_97d528c793baa9d80524e2c9dd361b4e = L.marker(
                [49.1098, 6.1593],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_7b017158524f52cb469f5f76bb7cbd1d = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_532d702f0f1ba535cc0b61fffa0b6676 = $(`<div id=&quot;html_532d702f0f1ba535cc0b61fffa0b6676&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Saint-Symphorien</div>`)[0];
                popup_7b017158524f52cb469f5f76bb7cbd1d.setContent(html_532d702f0f1ba535cc0b61fffa0b6676);
            
        

        marker_97d528c793baa9d80524e2c9dd361b4e.bindPopup(popup_7b017158524f52cb469f5f76bb7cbd1d)
        ;

        
    
    
            var marker_8b90fe31da95864a34f8d58bd91012a7 = L.marker(
                [47.255631, -1.525375],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_48d06ef7d4865774b903caac722f95e3 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_cf347e972f91ac06e08120efba07874f = $(`<div id=&quot;html_cf347e972f91ac06e08120efba07874f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade de la Beaujoire</div>`)[0];
                popup_48d06ef7d4865774b903caac722f95e3.setContent(html_cf347e972f91ac06e08120efba07874f);
            
        

        marker_8b90fe31da95864a34f8d58bd91012a7.bindPopup(popup_48d06ef7d4865774b903caac722f95e3)
        ;

        
    
    
            var marker_dade0d575b51ce934c16422c0ee3ada8 = L.marker(
                [48.403128, -4.46159],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_4939e52b23d6680b192a4ed7d24e1f95 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_301c04a23f102b220d08194466d5f8ca = $(`<div id=&quot;html_301c04a23f102b220d08194466d5f8ca&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Francis-Le Blé</div>`)[0];
                popup_4939e52b23d6680b192a4ed7d24e1f95.setContent(html_301c04a23f102b220d08194466d5f8ca);
            
        

        marker_dade0d575b51ce934c16422c0ee3ada8.bindPopup(popup_4939e52b23d6680b192a4ed7d24e1f95)
        ;

        
    
    
            var marker_aa081133c4ef886eada82376e51a9f71 = L.marker(
                [44.89735, -0.56128],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_f8f67ce8afdcd4334ead1117fd3698e1 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_86914e2020e9201c1308ece3389523fa = $(`<div id=&quot;html_86914e2020e9201c1308ece3389523fa&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Bordeaux Atlantique</div>`)[0];
                popup_f8f67ce8afdcd4334ead1117fd3698e1.setContent(html_86914e2020e9201c1308ece3389523fa);
            
        

        marker_aa081133c4ef886eada82376e51a9f71.bindPopup(popup_f8f67ce8afdcd4334ead1117fd3698e1)
        ;

        
    
    
            var marker_bb19086ad123f5993f80052d3b0ff210 = L.marker(
                [43.583296, 1.434055],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_be7016a7ba7435388044ba523f137e0b = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_246f72d66a282cde11ac8fd96dfe6cce = $(`<div id=&quot;html_246f72d66a282cde11ac8fd96dfe6cce&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stadium de Toulouse</div>`)[0];
                popup_be7016a7ba7435388044ba523f137e0b.setContent(html_246f72d66a282cde11ac8fd96dfe6cce);
            
        

        marker_bb19086ad123f5993f80052d3b0ff210.bindPopup(popup_be7016a7ba7435388044ba523f137e0b)
        ;

        
    
    
            var marker_66084f1a96ebab1594eaf2632e65c039 = L.marker(
                [49.893889, 2.263611],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_6aff6dcd857db90158c64a8249aa9290 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_ca12a204309a5dddb291d4a16cd08685 = $(`<div id=&quot;html_ca12a204309a5dddb291d4a16cd08685&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade de la Licorne</div>`)[0];
                popup_6aff6dcd857db90158c64a8249aa9290.setContent(html_ca12a204309a5dddb291d4a16cd08685);
            
        

        marker_66084f1a96ebab1594eaf2632e65c039.bindPopup(popup_6aff6dcd857db90158c64a8249aa9290)
        ;

        
    
    
            var marker_4f1ed037960763d20b60e8a58641297a = L.marker(
                [43.7275, 7.415555],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_12c67150baf507d2d5d94fecfe292cab = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_88ba2fcdd4531fc29577f176c9ffdef4 = $(`<div id=&quot;html_88ba2fcdd4531fc29577f176c9ffdef4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Louis-II</div>`)[0];
                popup_12c67150baf507d2d5d94fecfe292cab.setContent(html_88ba2fcdd4531fc29577f176c9ffdef4);
            
        

        marker_4f1ed037960763d20b60e8a58641297a.bindPopup(popup_12c67150baf507d2d5d94fecfe292cab)
        ;

        
    
    
            var marker_8d817b1c1803e675a996fad379d50b48 = L.marker(
                [47.324412, 5.068333],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_361af3328b1b6cfefe775b633353c787 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_ee640fc3271e1918371f7fa48231a86e = $(`<div id=&quot;html_ee640fc3271e1918371f7fa48231a86e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Gaston-Gérard</div>`)[0];
                popup_361af3328b1b6cfefe775b633353c787.setContent(html_ee640fc3271e1918371f7fa48231a86e);
            
        

        marker_8d817b1c1803e675a996fad379d50b48.bindPopup(popup_361af3328b1b6cfefe775b633353c787)
        ;

        
    
    
            var marker_57bfa700a84baf47f904fdcb476ef280 = L.marker(
                [41.93157, 8.77887],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_e51c695ef16b98568cb7b5025f6a2ed1 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_11b4229ed53d50ee5c2d225d42887520 = $(`<div id=&quot;html_11b4229ed53d50ee5c2d225d42887520&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Michel-Moretti</div>`)[0];
                popup_e51c695ef16b98568cb7b5025f6a2ed1.setContent(html_11b4229ed53d50ee5c2d225d42887520);
            
        

        marker_57bfa700a84baf47f904fdcb476ef280.bindPopup(popup_e51c695ef16b98568cb7b5025f6a2ed1)
        ;

        
    
    
            var marker_8b25d5532f17f32f516449326915d4ca = L.marker(
                [48.695278, 6.210556],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_76f4e1cada8599d1435455f915bcc8bc = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_e20195c18c6f0dc67ea73d74dde19a04 = $(`<div id=&quot;html_e20195c18c6f0dc67ea73d74dde19a04&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Marcel-Picot</div>`)[0];
                popup_76f4e1cada8599d1435455f915bcc8bc.setContent(html_e20195c18c6f0dc67ea73d74dde19a04);
            
        

        marker_8b25d5532f17f32f516449326915d4ca.bindPopup(popup_76f4e1cada8599d1435455f915bcc8bc)
        ;

        
    
    
            var marker_77c718045e9d2fc454e52a6194f5b401 = L.marker(
                [49.49888, 0.169722],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_50d2b356feefb482b337133623b05617 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_3d2fc0bedcd6d27fd43245a6298739b9 = $(`<div id=&quot;html_3d2fc0bedcd6d27fd43245a6298739b9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Océane</div>`)[0];
                popup_50d2b356feefb482b337133623b05617.setContent(html_3d2fc0bedcd6d27fd43245a6298739b9);
            
        

        marker_77c718045e9d2fc454e52a6194f5b401.bindPopup(popup_50d2b356feefb482b337133623b05617)
        ;

        
    
    
            var marker_cd7e62dacdb0fd712071c70b44150797 = L.marker(
                [49.179426, -0.396713],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_870ab314f4879813159af9840fb45215 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_759f8248ac50893ea174a783f4446e4a = $(`<div id=&quot;html_759f8248ac50893ea174a783f4446e4a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Michel-d'Ornano</div>`)[0];
                popup_870ab314f4879813159af9840fb45215.setContent(html_759f8248ac50893ea174a783f4446e4a);
            
        

        marker_cd7e62dacdb0fd712071c70b44150797.bindPopup(popup_870ab314f4879813159af9840fb45215)
        ;

        
    
    
            var marker_e77baeb86ab7541a8ceb3e4df003a282 = L.marker(
                [45.81584, 3.12162],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_46bf486749cef27fc6b6f9d41c8457c1 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_3556ab9000b15f60210f135da40e8280 = $(`<div id=&quot;html_3556ab9000b15f60210f135da40e8280&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Gabriel-Montpied</div>`)[0];
                popup_46bf486749cef27fc6b6f9d41c8457c1.setContent(html_3556ab9000b15f60210f135da40e8280);
            
        

        marker_e77baeb86ab7541a8ceb3e4df003a282.bindPopup(popup_46bf486749cef27fc6b6f9d41c8457c1)
        ;

        
    
    
            var marker_d728a2308ebac3c12dd72229539ad9dd = L.marker(
                [48.566116, -3.16445],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_116cf9d9056cc20fbfd8de9ce9c3266f = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_f1139b5c6c3ce8aba8806e79cbcb020e = $(`<div id=&quot;html_f1139b5c6c3ce8aba8806e79cbcb020e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade de Roudourou</div>`)[0];
                popup_116cf9d9056cc20fbfd8de9ce9c3266f.setContent(html_f1139b5c6c3ce8aba8806e79cbcb020e);
            
        

        marker_d728a2308ebac3c12dd72229539ad9dd.bindPopup(popup_116cf9d9056cc20fbfd8de9ce9c3266f)
        ;

        
    
    
            var marker_79de09cabce1bce7b65b27e1ae2c6ddb = L.marker(
                [47.748848, -3.369043],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_09ac595da35a01d217b86d875b030391 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_5e7b15da19872080d208c0171e1a827d = $(`<div id=&quot;html_5e7b15da19872080d208c0171e1a827d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade du Moustoir</div>`)[0];
                popup_09ac595da35a01d217b86d875b030391.setContent(html_5e7b15da19872080d208c0171e1a827d);
            
        

        marker_79de09cabce1bce7b65b27e1ae2c6ddb.bindPopup(popup_09ac595da35a01d217b86d875b030391)
        ;

        
    
    
            var marker_8fd29b32f650dbe9c77793f75dd61f7b = L.marker(
                [48.8432, 2.25293],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_8bf6dcc25fdada060a5f2c40431b1615 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_5a8104cac6840aef6dcd237c1a45c650 = $(`<div id=&quot;html_5a8104cac6840aef6dcd237c1a45c650&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Jean-Bouin (Paris)</div>`)[0];
                popup_8bf6dcc25fdada060a5f2c40431b1615.setContent(html_5a8104cac6840aef6dcd237c1a45c650);
            
        

        marker_8fd29b32f650dbe9c77793f75dd61f7b.bindPopup(popup_8bf6dcc25fdada060a5f2c40431b1615)
        ;

        
    
    
            var marker_b785ae72bb68301640b614811ab80d32 = L.marker(
                [46.801954264896, 1.7216563224792],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_f52fa4437c85048a5d02c135ca266e7a = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_38f445dfc63661756348fb4cdedc1568 = $(`<div id=&quot;html_38f445dfc63661756348fb4cdedc1568&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Gaston-Petit</div>`)[0];
                popup_f52fa4437c85048a5d02c135ca266e7a.setContent(html_38f445dfc63661756348fb4cdedc1568);
            
        

        marker_b785ae72bb68301640b614811ab80d32.bindPopup(popup_f52fa4437c85048a5d02c135ca266e7a)
        ;

        
    
    
            var marker_a2ff691fff6e7f28a078d51a75a010d5 = L.marker(
                [47.786765, 3.588654],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_084bcb23900847b8049127944879035b = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_11c90a920f05f0028ffc514f32900310 = $(`<div id=&quot;html_11c90a920f05f0028ffc514f32900310&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade de l'Abbé-Deschamps</div>`)[0];
                popup_084bcb23900847b8049127944879035b.setContent(html_11c90a920f05f0028ffc514f32900310);
            
        

        marker_a2ff691fff6e7f28a078d51a75a010d5.bindPopup(popup_084bcb23900847b8049127944879035b)
        ;

        
    
    
            var marker_c7bb22b3a806be6364e4a79802775469 = L.marker(
                [47.840401, 1.9411],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_faeaf7faa85e98e1e338f676ab519c6e = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_3e8df1a7e0382bb91489c39d47662ba4 = $(`<div id=&quot;html_3e8df1a7e0382bb91489c39d47662ba4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade de la Source</div>`)[0];
                popup_faeaf7faa85e98e1e338f676ab519c6e.setContent(html_3e8df1a7e0382bb91489c39d47662ba4);
            
        

        marker_c7bb22b3a806be6364e4a79802775469.bindPopup(popup_faeaf7faa85e98e1e338f676ab519c6e)
        ;

        
    
    
            var marker_97ab58bb4da637a1e22e6accaef8b420 = L.marker(
                [50.348563, 3.532269],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_6091ed04df4c9f96f73e34360d02cf41 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_d22f6dc66c7632baf7bb515f8b6565c1 = $(`<div id=&quot;html_d22f6dc66c7632baf7bb515f8b6565c1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade du Hainaut</div>`)[0];
                popup_6091ed04df4c9f96f73e34360d02cf41.setContent(html_d22f6dc66c7632baf7bb515f8b6565c1);
            
        

        marker_97ab58bb4da637a1e22e6accaef8b420.bindPopup(popup_6091ed04df4c9f96f73e34360d02cf41)
        ;

        
    
    
            var marker_b93510e11cfad472d3f162ed95300075 = L.marker(
                [46.317048, -0.489303],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_e50863ec2b2020bae2c0ef5f14b4fc7f = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_ae0fafc2d48e79347c5cbd75986ad66f = $(`<div id=&quot;html_ae0fafc2d48e79347c5cbd75986ad66f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade René-Gaillard</div>`)[0];
                popup_e50863ec2b2020bae2c0ef5f14b4fc7f.setContent(html_ae0fafc2d48e79347c5cbd75986ad66f);
            
        

        marker_b93510e11cfad472d3f162ed95300075.bindPopup(popup_e50863ec2b2020bae2c0ef5f14b4fc7f)
        ;

        
    
    
            var marker_db37648df100fca72a700d6cc606f1ac = L.marker(
                [45.187428, 5.740099],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_9c1f55d96ed9386d73ac5f4744d39eaf = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_1c3ef3f6c4698686605355b7e5359a3c = $(`<div id=&quot;html_1c3ef3f6c4698686605355b7e5359a3c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade des Alpes</div>`)[0];
                popup_9c1f55d96ed9386d73ac5f4744d39eaf.setContent(html_1c3ef3f6c4698686605355b7e5359a3c);
            
        

        marker_db37648df100fca72a700d6cc606f1ac.bindPopup(popup_9c1f55d96ed9386d73ac5f4744d39eaf)
        ;

        
    
    
            var marker_87f9cf73d503745032d347e398c7b1c1 = L.marker(
                [47.512311, 6.811345],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_bb549041363ee226ff54a5549c89a8aa = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_31079ebfda3c3e63fed1945fbac0782c = $(`<div id=&quot;html_31079ebfda3c3e63fed1945fbac0782c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Auguste-Bonal</div>`)[0];
                popup_bb549041363ee226ff54a5549c89a8aa.setContent(html_31079ebfda3c3e63fed1945fbac0782c);
            
        

        marker_87f9cf73d503745032d347e398c7b1c1.bindPopup(popup_bb549041363ee226ff54a5549c89a8aa)
        ;

        
    
    
            var marker_7834c39ae374632219fe7a51e201fd0d = L.marker(
                [44.35161, 2.56376],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_89a0aec6d1fb877260acc573c1525851 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_f906ecf83186e362c748fd3f7f6ba31c = $(`<div id=&quot;html_f906ecf83186e362c748fd3f7f6ba31c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Paul-Lignon</div>`)[0];
                popup_89a0aec6d1fb877260acc573c1525851.setContent(html_f906ecf83186e362c748fd3f7f6ba31c);
            
        

        marker_7834c39ae374632219fe7a51e201fd0d.bindPopup(popup_89a0aec6d1fb877260acc573c1525851)
        ;

        
    
    
            var marker_c838ba59c7ca17e9a412f8db7d05a3b8 = L.marker(
                [49.179157, 2.231689],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_81b5426bed9a2b29e1ba22e1aadc54b3 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_85db948b436a5e6b1c3be5a842087ef4 = $(`<div id=&quot;html_85db948b436a5e6b1c3be5a842087ef4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Walter Luzi</div>`)[0];
                popup_81b5426bed9a2b29e1ba22e1aadc54b3.setContent(html_85db948b436a5e6b1c3be5a842087ef4);
            
        

        marker_c838ba59c7ca17e9a412f8db7d05a3b8.bindPopup(popup_81b5426bed9a2b29e1ba22e1aadc54b3)
        ;

        
    
    
            var marker_d268f04ccba1db1a831f690c9c43f0b3 = L.marker(
                [48.307413, 4.09855],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_057f4ca458f010e08060fa7d155fab2d = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_ba41c21e6618a3c8d42287d67dbca6d4 = $(`<div id=&quot;html_ba41c21e6618a3c8d42287d67dbca6d4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade de l'Aube</div>`)[0];
                popup_057f4ca458f010e08060fa7d155fab2d.setContent(html_ba41c21e6618a3c8d42287d67dbca6d4);
            
        

        marker_d268f04ccba1db1a831f690c9c43f0b3.bindPopup(popup_057f4ca458f010e08060fa7d155fab2d)
        ;

        
    
    
            var marker_6c42b06721feb46e253598281b3c8a6d = L.marker(
                [50.43278, 2.815],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_0fc0ed65a3d35d91af5cdf5e337b9093 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_bc16c10c074ae02016e8e6206df53ea5 = $(`<div id=&quot;html_bc16c10c074ae02016e8e6206df53ea5&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Bollaert-Delelis</div>`)[0];
                popup_0fc0ed65a3d35d91af5cdf5e337b9093.setContent(html_bc16c10c074ae02016e8e6206df53ea5);
            
        

        marker_6c42b06721feb46e253598281b3c8a6d.bindPopup(popup_0fc0ed65a3d35d91af5cdf5e337b9093)
        ;

        
    
    
            var marker_a2980c8fa382cf1a2dfd298933dad04d = L.marker(
                [47.958953, 0.224666],
                {
}
            ).addTo(map_9dad34a6ec52d2136dfcb672bb00fbcc);
        
    
        var popup_33a216d0d0f10ee43e311a775f8e6e59 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_c01d4956aada765890ca7ba1f77b35e7 = $(`<div id=&quot;html_c01d4956aada765890ca7ba1f77b35e7&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stade Marie-Marvingt</div>`)[0];
                popup_33a216d0d0f10ee43e311a775f8e6e59.setContent(html_c01d4956aada765890ca7ba1f77b35e7);
            
        

        marker_a2980c8fa382cf1a2dfd298933dad04d.bindPopup(popup_33a216d0d0f10ee43e311a775f8e6e59)
        ;

        
    
    
            map_9dad34a6ec52d2136dfcb672bb00fbcc.fitBounds(
                [[41.93157, -4.46159], [50.611962, 8.77887]],
                {}
            );
        
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
</section>
</section>
<section id="retrieving-information-on-pokémon" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Retrieving Information on Pokémon</h1>
<p>The next exercise to practice <em>web scraping</em>
involves retrieving information on Pokémon
from the website <a href="http://pokemondb.net/pokedex/national">pokemondb.net</a>.</p>
<section id="unguided-version" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="unguided-version"><span class="header-section-number">6.1</span> Unguided Version</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Important</span>Important
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>As with Wikipedia, this site asks <code>request</code> to specify a parameter to control the <em>user-agent</em>. For instance,</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>requests.get(... , headers <span class="op">=</span> {<span class="st">'User-Agent'</span>: <span class="st">'Mozilla/5.0'</span>})</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Exercise 2: Pokémon (Unguided Version)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>For this exercise, we ask you to obtain various information about Pokémon:</p>
<ol type="1">
<li><p>The personal information of the <strong>893</strong> Pokémon on the website <a href="http://pokemondb.net/pokedex/national">pokemondb.net</a>.
The information we would like to ultimately obtain in a <code>DataFrame</code> is contained in 4 tables:</p>
<ul>
<li>Pokédex data</li>
<li>Training</li>
<li>Breeding</li>
<li>Base stats</li>
</ul></li>
<li><p>We would also like you to retrieve images of each Pokémon and save them in a folder.</p></li>
</ol>
<ul>
<li>A small hint: use the <code>request</code> and <a href="https://docs.python.org/3/library/shutil.html"><code>shutil</code></a> modules.</li>
<li>For this question, you will need to research some elements on your own; not everything is covered in the lab.</li>
</ul>
</div>
</div>
</div>
<p>For question 1, the goal is to obtain the source code of a table like
the one below (Pokémon <a href="http://pokemondb.net/pokedex/nincada">Nincada</a>).</p>
<div class="cell markdown">
<div class="grid-col span-md-6 span-lg-4">
<h2 class="anchored">
Pokédex data
</h2>
<table class="vitals-table">
<tbody>
<tr>
<th>
National №
</th>
<td>
<strong>290</strong>
</td>
</tr>
<tr>
<th>
Type
</th>
<td>
<a class="type-icon type-bug" href="../../type/bug">Bug</a> <a class="type-icon type-ground" href="../../type/ground">Ground</a>
</td>
</tr>
<tr>
<th>
Species
</th>
<td>
Trainee Pokémon
</td>
</tr>
<tr>
<th>
Height
</th>
<td>
0.5&nbsp;m (1′08″)
</td>
</tr>
<tr>
<th>
Weight
</th>
<td>
5.5&nbsp;kg (12.1&nbsp;lbs)
</td>
</tr>
<tr>
<th>
Abilities
</th>
<td>
<span class="text-muted">1. <a href="../../ability/compound-eyes" title="The Pokémon's accuracy is boosted.">Compound Eyes</a></span><br><small class="text-muted"><a href="../../ability/run-away" title="Enables a sure getaway from wild Pokémon.">Run Away</a> (hidden ability)</small><br>
</td>
</tr>
<tr>
<th>
Local №
</th>
<td>
042 <small class="text-muted">(Ruby/Sapphire/Emerald)</small><br>111 <small class="text-muted">(X/Y — Central Kalos)</small><br>043 <small class="text-muted">(Omega Ruby/Alpha Sapphire)</small><br>104 <small class="text-muted">(Sword/Shield)</small><br>
</td>
</tr>
</tbody>
</table>
</div>
<div class="grid-col span-md-12 span-lg-4">
<div class="grid-row">
<div class="grid-col span-md-6 span-lg-12">
<h2 class="anchored">
Training
</h2>
<table class="vitals-table">
<tbody>
<tr>
<th>
EV yield
</th>
<td class="text">
1 Defense
</td>
</tr>
<tr>
<th>
Catch rate
</th>
<td>
255 <small class="text-muted">(33.3% with PokéBall, full HP)</small>
</td>
</tr>
<tr>
<th>
Base <a href="../../glossary#def-friendship">Friendship</a>
</th>
<td>
70 <small class="text-muted">(normal)</small>
</td>
</tr>
<tr>
<th>
Base Exp.
</th>
<td>
53
</td>
</tr>
<tr>
<th>
Growth Rate
</th>
<td>
Erratic
</td>
</tr>
</tbody>
</table>
</div>
<div class="grid-col span-md-6 span-lg-12">
<h2 class="anchored">
Breeding
</h2>
<table class="vitals-table">
<tbody>
<tr>
<th>
Egg Groups
</th>
<td>
<a href="../../egg-group/bug">Bug</a>
</td>
</tr>
<tr>
<th>
Gender
</th>
<td>
<span class="text-blue">50% male</span>, <span class="text-pink">50% female</span>
</td>
</tr>
<tr>
<th>
<a href="../../glossary#def-eggcycle">Egg cycles</a>
</th>
<td>
15 <small class="text-muted">(3,599–3,855 steps)</small>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="grid-col span-md-12 span-lg-8">
<div id="dex-stats">

</div>
<h2 class="anchored">
Base stats
</h2>
<div class="resp-scroll">
<table class="vitals-table">
<tbody>
<tr>
<th>
HP
</th>
<td class="cell-num">
31
</td>
<td class="cell-barchart">
<div class="barchart-bar barchart-rank-2" style="width:17.22%;">

</div>
</td>
<td class="cell-num">
172
</td>
<td class="cell-num">
266
</td>
</tr>
<tr>
<th>
Attack
</th>
<td class="cell-num">
45
</td>
<td class="cell-barchart">
<div class="barchart-bar barchart-rank-2" style="width:25.00%;">

</div>
</td>
<td class="cell-num">
85
</td>
<td class="cell-num">
207
</td>
</tr>
<tr>
<th>
Defense
</th>
<td class="cell-num">
90
</td>
<td class="cell-barchart">
<div class="barchart-bar barchart-rank-4" style="width:50.00%;">

</div>
</td>
<td class="cell-num">
166
</td>
<td class="cell-num">
306
</td>
</tr>
<tr>
<th>
Sp. Atk
</th>
<td class="cell-num">
30
</td>
<td class="cell-barchart">
<div class="barchart-bar barchart-rank-2" style="width:16.67%;">

</div>
</td>
<td class="cell-num">
58
</td>
<td class="cell-num">
174
</td>
</tr>
<tr>
<th>
Sp. Def
</th>
<td class="cell-num">
30
</td>
<td class="cell-barchart">
<div class="barchart-bar barchart-rank-2" style="width:16.67%;">

</div>
</td>
<td class="cell-num">
58
</td>
<td class="cell-num">
174
</td>
</tr>
<tr>
<th>
Speed
</th>
<td class="cell-num">
40
</td>
<td class="cell-barchart">
<div class="barchart-bar barchart-rank-2" style="width:22.22%;">

</div>
</td>
<td class="cell-num">
76
</td>
<td class="cell-num">
196
</td>
</tr>
</tbody>
<tfoot>
<tr>
<th>
Total
</th>
<td class="cell-total">
<b>266</b>
</td>
<th class="cell-barchart">
</th>
<th>
Min
</th>
<th>
Max
</th>
</tr>
</tfoot>
</table>
</div>
</div>
</div>
<p>For question 2, the goal is to obtain
images of the Pokémon.</p>
</section>
<section id="guided-version" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="guided-version"><span class="header-section-number">6.2</span> Guided Version</h2>
<p>The following sections will help you complete the above exercise
step by step,
in a guided manner.</p>
<p>First, we want to obtain the
personal information of all
the Pokémon on <a href="http://pokemondb.net/pokedex/national">pokemondb.net</a>.</p>
<p>The information we would like to ultimately obtain for the Pokémon is contained in 4 tables:</p>
<ul>
<li>Pokédex data</li>
<li>Training</li>
<li>Breeding</li>
<li>Base stats</li>
</ul>
<p>Next, we will retrieve and display the images.</p>
<section id="step-1-create-a-dataframe-of-characteristics" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="step-1-create-a-dataframe-of-characteristics"><span class="header-section-number">6.2.1</span> Step 1: Create a DataFrame of Characteristics</h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Exercise 2b: Pokémon (guided version)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>To retrieve the information, the code must be divided into several steps:</p>
<ol type="1">
<li><p>Find the site’s main page and transform it into an intelligible object for your code. The following functions will be useful:</p>
<ul>
<li><code>requests.get</code></li>
<li><code>bs4.BeautifulSoup</code></li>
</ul></li>
<li><p>From this code, create a function that retrieves a pokémon’s page content from its name. You can name this function <code>get_name</code>.</p></li>
<li><p>From the <code>bulbasaur</code> page, obtain the 4 arrays we’re interested in:</p>
<ul>
<li>look for the following element: <code>(‘table’, { ‘class’ : “vitals-table”})</code></li>
<li>then store its elements in a dictionary</li>
</ul></li>
<li><p>Retrieve the list of pokemon names, which will enable us to loop later. How many pokémons can you find?</p></li>
<li><p>Write a function that retrieves all the information on the first ten pokémons in the list and integrates it into a <code>DataFrame</code>.</p></li>
</ol>
</div>
</div>
</div>
<p>At the end of question 3,
you should obtain a list of characteristics similar to this one:</p>
<div id="c06974b5" class="cell" data-execution_count="42">
<script type="ojs-define">{"contents": [{"name": "bulb", "value": {"National \u2116": "0001", "name": "bulbasaur", "Type": " Grass Poison ", "Species": "Seed Pok\u00e9mon", "Height": "0.7\u00a0m (2\u203204\u2033)", "Weight": "6.9\u00a0kg (15.2\u00a0lbs)", "Abilities": "1. OvergrowChlorophyll (hidden ability)", "Local \u2116": "0001 (Red/Blue/Yellow)0226 (Gold/Silver/Crystal)0001 (FireRed/LeafGreen)0231 (HeartGold/SoulSilver)0080 (X/Y \u2014 Central Kalos)0001 (Let's Go Pikachu/Let's Go Eevee)0148 (Legends: Z-A)0068 (The Isle of Armor)0164 (The Indigo Disk)", "EV yield": " 1 Sp. Atk", "Catch rate": " 45 (5.9% with Pok\u00e9Ball, full HP) ", "Base Friendship": " 50 (normal) ", "Base Exp.": "64", "Growth Rate": "Medium Slow", "Egg Groups": "Grass, Monster", "Gender": "87.5% male, 12.5% female", "Egg cycles": "20(4,884\u20135,140 steps) ", "HP": "45", "Attack": "49", "Defense": "49", "Sp. Atk": "65", "Sp. Def": "65", "Speed": "45"}}]}</script>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb37" data-startfrom="309" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 308;"><span id="cb37-309"><a href="#cb37-309" aria-hidden="true" tabindex="-1"></a>bulb</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-2" data-nodetype="expression">

</div>
</div>
</div>
<p>The structure here is a dictionary, which is convenient.</p>
<p>Finally, you can integrate the information
of the first ten Pokémon into a
<code>DataFrame</code>, which will look like this:</p>
<div id="5397a93c" class="cell" data-execution_count="45">
<div class="cell-output cell-output-display" data-execution_count="40">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">National №</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Species</th>
<th data-quarto-table-cell-role="th">Height</th>
<th data-quarto-table-cell-role="th">Weight</th>
<th data-quarto-table-cell-role="th">Abilities</th>
<th data-quarto-table-cell-role="th">Local №</th>
<th data-quarto-table-cell-role="th">EV yield</th>
<th data-quarto-table-cell-role="th">Catch rate</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Growth Rate</th>
<th data-quarto-table-cell-role="th">Egg Groups</th>
<th data-quarto-table-cell-role="th">Gender</th>
<th data-quarto-table-cell-role="th">Egg cycles</th>
<th data-quarto-table-cell-role="th">HP</th>
<th data-quarto-table-cell-role="th">Attack</th>
<th data-quarto-table-cell-role="th">Defense</th>
<th data-quarto-table-cell-role="th">Sp. Atk</th>
<th data-quarto-table-cell-role="th">Sp. Def</th>
<th data-quarto-table-cell-role="th">Speed</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>0001</td>
<td>bulbasaur</td>
<td>Grass Poison</td>
<td>Seed Pokémon</td>
<td>0.7&nbsp;m (2′04″)</td>
<td>6.9&nbsp;kg (15.2&nbsp;lbs)</td>
<td>1. OvergrowChlorophyll (hidden ability)</td>
<td>0001 (Red/Blue/Yellow)0226 (Gold/Silver/Crysta...</td>
<td>1 Sp. Atk</td>
<td>45 (5.9% with PokéBall, full HP)</td>
<td>...</td>
<td>Medium Slow</td>
<td>Grass, Monster</td>
<td>87.5% male, 12.5% female</td>
<td>20(4,884–5,140 steps)</td>
<td>45</td>
<td>49</td>
<td>49</td>
<td>65</td>
<td>65</td>
<td>45</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>0002</td>
<td>ivysaur</td>
<td>Grass Poison</td>
<td>Seed Pokémon</td>
<td>1.0&nbsp;m (3′03″)</td>
<td>13.0&nbsp;kg (28.7&nbsp;lbs)</td>
<td>1. OvergrowChlorophyll (hidden ability)</td>
<td>0002 (Red/Blue/Yellow)0227 (Gold/Silver/Crysta...</td>
<td>1 Sp. Atk, 1 Sp. Def</td>
<td>45 (5.9% with PokéBall, full HP)</td>
<td>...</td>
<td>Medium Slow</td>
<td>Grass, Monster</td>
<td>87.5% male, 12.5% female</td>
<td>20(4,884–5,140 steps)</td>
<td>60</td>
<td>62</td>
<td>63</td>
<td>80</td>
<td>80</td>
<td>60</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>0003</td>
<td>venusaur</td>
<td>Grass Poison</td>
<td>Seed Pokémon</td>
<td>2.0&nbsp;m (6′07″)</td>
<td>100.0&nbsp;kg (220.5&nbsp;lbs)</td>
<td>1. OvergrowChlorophyll (hidden ability)</td>
<td>0003 (Red/Blue/Yellow)0228 (Gold/Silver/Crysta...</td>
<td>2 Sp. Atk, 1 Sp. Def</td>
<td>45 (5.9% with PokéBall, full HP)</td>
<td>...</td>
<td>Medium Slow</td>
<td>Grass, Monster</td>
<td>87.5% male, 12.5% female</td>
<td>20(4,884–5,140 steps)</td>
<td>80</td>
<td>82</td>
<td>83</td>
<td>100</td>
<td>100</td>
<td>80</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>0004</td>
<td>charmander</td>
<td>Fire</td>
<td>Lizard Pokémon</td>
<td>0.6&nbsp;m (2′00″)</td>
<td>8.5&nbsp;kg (18.7&nbsp;lbs)</td>
<td>1. BlazeSolar Power (hidden ability)</td>
<td>0004 (Red/Blue/Yellow)0229 (Gold/Silver/Crysta...</td>
<td>1 Speed</td>
<td>45 (5.9% with PokéBall, full HP)</td>
<td>...</td>
<td>Medium Slow</td>
<td>Dragon, Monster</td>
<td>87.5% male, 12.5% female</td>
<td>20(4,884–5,140 steps)</td>
<td>39</td>
<td>52</td>
<td>43</td>
<td>60</td>
<td>50</td>
<td>65</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>0005</td>
<td>charmeleon</td>
<td>Fire</td>
<td>Flame Pokémon</td>
<td>1.1&nbsp;m (3′07″)</td>
<td>19.0&nbsp;kg (41.9&nbsp;lbs)</td>
<td>1. BlazeSolar Power (hidden ability)</td>
<td>0005 (Red/Blue/Yellow)0230 (Gold/Silver/Crysta...</td>
<td>1 Sp. Atk, 1 Speed</td>
<td>45 (5.9% with PokéBall, full HP)</td>
<td>...</td>
<td>Medium Slow</td>
<td>Dragon, Monster</td>
<td>87.5% male, 12.5% female</td>
<td>20(4,884–5,140 steps)</td>
<td>58</td>
<td>64</td>
<td>58</td>
<td>80</td>
<td>65</td>
<td>80</td>
</tr>
</tbody>
</table>

<p>5 rows × 22 columns</p>
</div>
</div>
</div>
</section>
<section id="step-2-retrieve-and-display-pokémon-photos" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="step-2-retrieve-and-display-pokémon-photos"><span class="header-section-number">6.2.2</span> Step 2: Retrieve and Display Pokémon Photos</h3>
<p>We would also like you to retrieve the images of the first 5 Pokémon
and save them in a folder.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Exercise 2b: Pokémon (Guided Version)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ul>
<li>The URLs of Pokémon images take the form <em>“https://img.pokemondb.net/artwork/{pokemon}.jpg”</em>.
Use the <code>requests</code> and <code>shutil</code> modules to download
and save the images locally.</li>
<li>Import these images stored in JPEG format into <code>Python</code> using the <code>imread</code> function from the <code>skimage.io</code> package.</li>
</ul>
</div>
</div>
</div>
<div id="79202aa8" class="cell" data-execution_count="46">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install scikit<span class="op">-</span>image</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="1c66c446" class="cell" data-execution_count="50">
<div class="cell-output cell-output-display" data-execution_count="44">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="04a_webscraping_TP_files/figure-html/cell-51-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="First pokemon in Pokedex list"><img src="04a_webscraping_TP_files/figure-html/cell-51-output-1.png" width="953" height="342" alt="First pokemon in Pokedex list" class="figure-img"></a></p>
<figcaption>First pokemon in Pokedex list</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="selenium-mimer-le-comportement-dun-utilisateur-internet" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> <code>Selenium</code> : mimer le comportement d’un utilisateur internet</h1>
<p>Until now,
we have assumed that we always know the URL we are interested in.
Additionally, the pages we visit are <strong>“static”</strong>,
they do not depend on any action or search by the user.</p>
<p>We will now see how to fill in fields on a website and retrieve the information we are interested in.
The reaction of a website to a user’s action often involves the use of <code>JavaScript</code> in the world of web development.
The <a href="https://pypi.python.org/pypi/selenium">Selenium</a> package allows
you to automate the behavior of a manual user from within your code.
It enables you to obtain information from a site that is not in the
<code>HTML</code> code but only appears after
the execution of <code>JavaScript</code> scripts in the background.</p>
<p><code>Selenium</code> behaves like a regular internet user:
it clicks on links, fills out forms, etc.</p>
<section id="first-example-scraping-a-search-engine" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="first-example-scraping-a-search-engine"><span class="header-section-number">7.1</span> First Example: Scraping a Search Engine</h2>
<p>In this example, we will try to go to the
<a href="https://www.bing.com/news">Bing News</a> site
and enter a given topic in the search bar.
To test, we will search with the keyword <strong>“Trump”</strong>.</p>
<p>Installing <code>Selenium</code> requires <code>Chromium</code>, which is a
minimalist version of the Google Chrome browser.
The version of <a href="https://sites.google.com/a/chromium.org/chromedriver/">chromedriver</a>
must be <code>&gt;= 2.36</code> and depends on the version of <code>Chrome</code> you have on your working environment.
To install this minimalist version of <code>Chrome</code> on a
<code>Linux</code> environment, you can refer to the dedicated section.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Important</span>Installation de Selenium
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>On <code>Colab</code>, you can use the following commands:</p>
<div id="5cc213ac" class="cell" data-execution_count="51">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>sudo apt<span class="op">-</span>get update</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>sudo apt install <span class="op">-</span>y unzip xvfb libxi6 libgconf<span class="op">-</span><span class="dv">2</span><span class="op">-</span><span class="dv">4</span> <span class="op">-</span>y</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>sudo apt install chromium<span class="op">-</span>chromedriver <span class="op">-</span>y</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>cp <span class="op">/</span>usr<span class="op">/</span>lib<span class="op">/</span>chromium<span class="op">-</span>browser<span class="op">/</span>chromedriver <span class="op">/</span>usr<span class="op">/</span><span class="bu">bin</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><br></p>
<p>If you are on the <code>SSP Cloud</code>, you can
run the following commands:</p>
<div id="25bd3f01" class="cell" data-execution_count="52">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>wget https:<span class="op">//</span>dl.google.com<span class="op">/</span>linux<span class="op">/</span>direct<span class="op">/</span>google<span class="op">-</span>chrome<span class="op">-</span>stable_current_amd64.deb <span class="op">-</span>O <span class="op">/</span>tmp<span class="op">/</span>chrome.deb</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>sudo apt<span class="op">-</span>get update</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>sudo <span class="op">-</span>E apt<span class="op">-</span>get install <span class="op">-</span>y <span class="op">/</span>tmp<span class="op">/</span>chrome.deb</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install chromedriver<span class="op">-</span>autoinstaller selenium</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> chromedriver_autoinstaller</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>path_to_web_driver <span class="op">=</span> chromedriver_autoinstaller.install()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><br></p>
<p>You can then install <code>Selenium</code>.
For example, from a
<code>Notebook</code> cell:</p>
</div>
</div>
</div>
<p>First, you need to initialize the behavior
of <code>Selenium</code> by replicating the browser settings. To do this, we will first initialize our browser with a few options:</p>
<div id="4ea37157" class="cell" data-execution_count="54">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium <span class="im">import</span> webdriver</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.common.keys <span class="im">import</span> Keys</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>chrome_options <span class="op">=</span> webdriver.ChromeOptions()</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>chrome_options.add_argument(<span class="st">'--headless'</span>)</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>chrome_options.add_argument(<span class="st">'--no-sandbox'</span>)</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>chrome_options.add_argument(<span class="st">'--disable-dev-shm-usage'</span>)</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a><span class="co">#chrome_options.add_argument('--verbose')</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Then we launch the browser:</p>
<div id="77a2c274" class="cell" data-execution_count="55">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.chrome.service <span class="im">import</span> Service</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>service <span class="op">=</span> Service(executable_path<span class="op">=</span>path_to_web_driver)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>browser <span class="op">=</span> webdriver.Chrome(</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    service<span class="op">=</span>service,</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>    options<span class="op">=</span>chrome_options</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We go to the <code>Bing News</code> site,
and we specify the keyword we want to search for.
In this case, we’re interested in news about Donald Trump.
After inspecting the page using the browser’s developer tools,
we see that the search bar is an element in the code called <code>q</code> (as in <em>query</em>).
So we’ll ask <code>selenium</code> to search for this element:</p>
<div id="0b3fa774" class="cell" data-execution_count="56">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>browser.get(<span class="st">'https://www.bing.com/news'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="a8d8f81c" class="cell" data-execution_count="58">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>search <span class="op">=</span> browser.find_element(<span class="st">"name"</span>, <span class="st">"q"</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(search)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>([search.text, search.tag_name, search.<span class="bu">id</span>])</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="co"># on envoie à cet endroit le mot qu'on aurait tapé dans la barre de recherche</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>search.send_keys(<span class="st">"Trump"</span>)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>search_button <span class="op">=</span> browser.find_element(<span class="st">"xpath"</span>, <span class="st">"//input[@id='sb_form_go']"</span>)</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>search_button.click()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><code>Selenium</code> allows you to capture the image you would see in the browser
with <code>get_screenshot_as_png</code>. This can be useful to check if you
have performed the correct action:</p>
<div id="2b521f23" class="cell" data-execution_count="61">
<div class="cell-output cell-output-display" data-execution_count="52">
<div>
<figure class="figure">
<p><a href="04a_webscraping_TP_files/figure-html/cell-62-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="04a_webscraping_TP_files/figure-html/cell-62-output-1.png" class="img-fluid figure-img" width="500"></a></p>
</figure>
</div>
</div>
</div>
<p>Finally, we can extract the results. Several
methods are available. The most
convenient method, when available,
is to use <code>XPath</code>, which is an unambiguous path
to access an element. Indeed,
multiple elements can share the same class or
the same attribute, which can cause such a search
to return multiple matches.
To determine the <code>XPath</code> of an object, the developer tools
of your web browser are handy.
For example, in <code>Firefox</code>, once you
have found an element in the inspector, you
can right-click &gt; Copy &gt; XPath.</p>
<p>Finally, to end our session, we ask <code>Python</code> to close the browser:</p>
<div id="fcdaee88" class="cell" data-execution_count="63">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>browser.quit()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We get the following results:</p>
<div id="a0be25b0" class="cell" data-execution_count="64">
<div class="cell-output cell-output-stdout">
<pre><code>['https://www.msn.com/en-us/news/politics/trumps-approval-rating-sinks-to-double-digit-deficit-with-gop-pollster/ar-AA1SYRAv?ocid=BingNewsVerp', 'https://www.cbsnews.com/news/trump-white-house-ballroom-construction-national-trust-for-historic-preservation/', 'https://www.msn.com/en-us/news/politics/judge-blocks-trump-effort-to-strip-security-clearance-from-attorney-who-represented-whistleblowers/ar-AA1SYtgo?ocid=BingNewsVerp', 'https://www.nytimes.com/2025/12/25/us/politics/republicans-afghan-visas.html', 'https://www.msn.com/en-us/news/world/china-has-condemned-trump-s-venezuela-blockade-but-it-may-also-see-some-upsides-to-a-new-era-of-gunboat-diplomacy/ar-AA1SXcUb?ocid=BingNewsVerp', 'https://www.msn.com/en-us/news/us/not-a-happy-trump-supporter-cattle-ranchers-hit-by-push-for-lower-beef-prices/ar-AA1SXJe3?ocid=BingNewsVerp', 'https://www.msn.com/en-us/news/politics/trump-touts-achievements-of-first-year-of-second-term/vi-AA1T1jsk?ocid=BingNewsVerp', 'https://www.cbsnews.com/news/honduras-election-trump-backed-candidate-nasry-asfura-declared-winner/']</code></pre>
</div>
</div>
<p>Other useful <code>Selenium</code> methods:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 68%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th>Method</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>find_element(****).click()</code></td>
<td>Once you have found a reactive element, such as a button, you can click on it to navigate to a new page</td>
</tr>
<tr class="even">
<td><code>find_element(****).send_keys("toto")</code></td>
<td>Once you have found an element, such as a field to enter credentials, you can send a value, in this case <em>“toto”</em>.</td>
</tr>
</tbody>
</table>
</section>
<section id="additional-exercise" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="additional-exercise"><span class="header-section-number">7.2</span> Additional Exercise</h2>
<p>To explore another application of web scraping, you can also tackle topic 5 of the 2023 edition of a non-competitive hackathon organized by Insee:</p>
<ul>
<li>On <a href="https://github.com/InseeFrLab/funathon2023_sujet5"><code>Github</code></a></li>
<li>On <a href="https://www.sspcloud.fr/formation?search=funat&amp;path=%5B%22Funathon%202023%22%5D"><code>SSPCloud</code></a></li>
</ul>
<p>The NLP section of the course may be useful for the second part of the topic!</p>
</section>
<section id="informations-additionnelles" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="informations-additionnelles">Informations additionnelles</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Python environment   
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This site was built automatically through a <code>Github</code> <i class="fa-brands fa-github" aria-label="github"></i> action using the <code>Quarto</code> <iconify-icon role="img" inline="" icon="simple-icons:quarto" aria-label="Icon quarto from simple-icons Iconify.design set." title="Icon quarto from simple-icons Iconify.design set."></iconify-icon> reproducible publishing software (version 1.8.26).</p>
<p>The <i class="fa-brands fa-python" aria-label="python"></i> environment used to obtain the results is reproducible via <a href="https://docs.astral.sh/uv/guides/install-python/">uv</a>. The <code>pyproject.toml</code> file used to build this environment is available on the <a href="https://github.com/linogaliana/python-datascientist/blob/main/pyproject.toml"><code>linogaliana/python-datascientist</code></a> repository</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>pyproject.toml</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb47" data-filename="pyproject.toml" data-code-fold="true" data-code-summary="pyproject.toml"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>[project]</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="st">"python-datascientist"</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>version <span class="op">=</span> <span class="st">"0.1.0"</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>description <span class="op">=</span> <span class="st">"Source code for Lino Galiana's Python for data science course"</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>readme <span class="op">=</span> <span class="st">"README.md"</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>requires<span class="op">-</span>python <span class="op">=</span> <span class="st">"&gt;=3.12,&lt;3.13"</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>dependencies <span class="op">=</span> [</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"altair==5.4.1"</span>,</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"black==24.8.0"</span>,</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"cartiflette"</span>,</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"contextily==1.6.2"</span>,</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"duckdb&gt;=0.10.1"</span>,</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"folium&gt;=0.19.6"</span>,</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"geoplot==0.5.1"</span>,</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"graphviz==0.20.3"</span>,</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"great-tables&gt;=0.12.0"</span>,</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gt-extras&gt;=0.0.8"</span>,</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ipykernel&gt;=6.29.5"</span>,</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"jupyter&gt;=1.1.1"</span>,</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"jupyter-cache==1.0.0"</span>,</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"kaleido==0.2.1"</span>,</span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"langchain-community&gt;=0.3.27"</span>,</span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"loguru==0.7.3"</span>,</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"markdown&gt;=3.8"</span>,</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"nbclient==0.10.0"</span>,</span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"nbformat==5.10.4"</span>,</span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">"nltk&gt;=3.9.1"</span>,</span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pip&gt;=25.1.1"</span>,</span>
<span id="cb47-29"><a href="#cb47-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">"plotly&gt;=6.1.2"</span>,</span>
<span id="cb47-30"><a href="#cb47-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">"plotnine&gt;=0.15"</span>,</span>
<span id="cb47-31"><a href="#cb47-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">"polars==1.8.2"</span>,</span>
<span id="cb47-32"><a href="#cb47-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pyarrow==17.0.0"</span>,</span>
<span id="cb47-33"><a href="#cb47-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pynsee==0.1.8"</span>,</span>
<span id="cb47-34"><a href="#cb47-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">"python-dotenv==1.0.1"</span>,</span>
<span id="cb47-35"><a href="#cb47-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">"python-frontmatter&gt;=1.1.0"</span>,</span>
<span id="cb47-36"><a href="#cb47-36" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pywaffle==1.1.1"</span>,</span>
<span id="cb47-37"><a href="#cb47-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">"requests&gt;=2.32.3"</span>,</span>
<span id="cb47-38"><a href="#cb47-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">"scikit-image==0.24.0"</span>,</span>
<span id="cb47-39"><a href="#cb47-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">"scipy&gt;=1.13.0"</span>,</span>
<span id="cb47-40"><a href="#cb47-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">"selenium&lt;4.39.0"</span>,</span>
<span id="cb47-41"><a href="#cb47-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">"spacy==3.8.4"</span>,</span>
<span id="cb47-42"><a href="#cb47-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">"webdriver-manager==4.0.2"</span>,</span>
<span id="cb47-43"><a href="#cb47-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">"wordcloud==1.9.3"</span>,</span>
<span id="cb47-44"><a href="#cb47-44" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb47-45"><a href="#cb47-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-46"><a href="#cb47-46" aria-hidden="true" tabindex="-1"></a>[tool.uv.sources]</span>
<span id="cb47-47"><a href="#cb47-47" aria-hidden="true" tabindex="-1"></a>cartiflette <span class="op">=</span> { git <span class="op">=</span> <span class="st">"https://github.com/inseefrlab/cartiflette"</span> }</span>
<span id="cb47-48"><a href="#cb47-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-49"><a href="#cb47-49" aria-hidden="true" tabindex="-1"></a>[dependency<span class="op">-</span>groups]</span>
<span id="cb47-50"><a href="#cb47-50" aria-hidden="true" tabindex="-1"></a>dev <span class="op">=</span> [</span>
<span id="cb47-51"><a href="#cb47-51" aria-hidden="true" tabindex="-1"></a>    <span class="st">"nb-clean&gt;=4.0.1"</span>,</span>
<span id="cb47-52"><a href="#cb47-52" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>To use exactly the same environment (version of <code>Python</code> and <em>packages</em>), please refer to the <a href="https://docs.astral.sh/uv/pip/environments/">documentation for <code>uv</code></a>.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>File history   
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb48" data-startfrom="355" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 354;"><span id="cb48-355"><a href="#cb48-355" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`This file has been modified __</span><span class="sc">${</span>table_commit<span class="op">.</span><span class="at">length</span><span class="sc">}</span><span class="vs">__ times since its creation on </span><span class="sc">${</span>creation_string<span class="sc">}</span><span class="vs"> (last modified on </span><span class="sc">${</span>last_modification_string<span class="sc">}</span><span class="vs">)`</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-6" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb49" data-startfrom="371" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 370;"><span id="cb49-371"><a href="#cb49-371" aria-hidden="true" tabindex="-1"></a><span class="fu">html</span><span class="vs">`&lt;div&gt;</span><span class="sc">${</span>git_history_table<span class="sc">}</span><span class="vs">&lt;/div&gt;`</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-7" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb50" data-startfrom="401" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 400;"><span id="cb50-401"><a href="#cb50-401" aria-hidden="true" tabindex="-1"></a><span class="fu">html</span><span class="vs">`&lt;div&gt;</span><span class="sc">${</span>git_history_plot<span class="sc">}</span><span class="vs">&lt;/div&gt;`</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-8" data-nodetype="expression">

</div>
</div>
</div>
<table class="commit-table" border="1">
<thead>
<tr>
<th>
SHA
</th>
<th>
Date
</th>
<th>
Author
</th>
<th>
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/d957efa7">d957efa7</a>
</td>
<td>
2025-12-07 20:15:10
</td>
<td>
lgaliana
</td>
<td>
Modularise et remet en forme le chapitre webscraping
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/d555fa72">d555fa72</a>
</td>
<td>
2025-09-24 08:39:27
</td>
<td>
lgaliana
</td>
<td>
warninglang partout
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/378b872a">378b872a</a>
</td>
<td>
2025-09-21 09:31:47
</td>
<td>
lgaliana
</td>
<td>
try/except selenium
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/53883c08">53883c08</a>
</td>
<td>
2025-09-20 14:01:30
</td>
<td>
lgaliana
</td>
<td>
try/error pipeline for GHA + update some webscraping codebase to avoid deprecation warning
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/794ce14a">794ce14a</a>
</td>
<td>
2025-09-15 16:21:42
</td>
<td>
lgaliana
</td>
<td>
retouche quelques abstracts
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/40d6151e">40d6151e</a>
</td>
<td>
2025-09-12 12:05:54
</td>
<td>
lgaliana
</td>
<td>
callout warning
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/c3d51646">c3d51646</a>
</td>
<td>
2025-08-12 17:28:51
</td>
<td>
Lino Galiana
</td>
<td>
Ajoute un résumé au début de chaque chapitre (première partie) (#634)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/99ab48b0">99ab48b0</a>
</td>
<td>
2025-07-25 18:50:15
</td>
<td>
Lino Galiana
</td>
<td>
Utilisation des callout classiques pour les box notes and co (#629)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/94648290">94648290</a>
</td>
<td>
2025-07-22 18:57:48
</td>
<td>
Lino Galiana
</td>
<td>
Fix boxes now that it is better supported by jupyter (#628)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/91431fa2">91431fa2</a>
</td>
<td>
2025-06-09 17:08:00
</td>
<td>
Lino Galiana
</td>
<td>
Improve homepage hero banner (#612)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/3f1d2f3f">3f1d2f3f</a>
</td>
<td>
2025-03-15 15:55:59
</td>
<td>
Lino Galiana
</td>
<td>
Fix problem with uv and malformed files (#599)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/2f96f636">2f96f636</a>
</td>
<td>
2025-01-29 19:49:36
</td>
<td>
Lino Galiana
</td>
<td>
Tweak callout for colab engine (#591)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/e8beceb7">e8beceb7</a>
</td>
<td>
2024-12-11 11:33:21
</td>
<td>
Romain Avouac
</td>
<td>
fix(selenium): chromedriver path (#581)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/ddc423f1">ddc423f1</a>
</td>
<td>
2024-11-12 10:26:14
</td>
<td>
lgaliana
</td>
<td>
Quarto rendering
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/9d8e69c3">9d8e69c3</a>
</td>
<td>
2024-10-21 17:10:03
</td>
<td>
lgaliana
</td>
<td>
update badges shortcode for all manipulation part
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/4be74ea8">4be74ea8</a>
</td>
<td>
2024-08-21 17:32:34
</td>
<td>
Lino Galiana
</td>
<td>
Fix a few buggy notebooks (#544)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/40446fa3">40446fa3</a>
</td>
<td>
2024-08-21 13:17:17
</td>
<td>
Lino Galiana
</td>
<td>
solve pb (#543)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/f7d7c83b">f7d7c83b</a>
</td>
<td>
2024-08-21 09:33:26
</td>
<td>
linogaliana
</td>
<td>
solve problem with webscraping chapter
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/1953609d">1953609d</a>
</td>
<td>
2024-08-12 16:18:19
</td>
<td>
linogaliana
</td>
<td>
One button is enough
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/64262ca1">64262ca1</a>
</td>
<td>
2024-08-12 17:06:18
</td>
<td>
Lino Galiana
</td>
<td>
Traduction partie webscraping (#541)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/101465fb">101465fb</a>
</td>
<td>
2024-08-07 13:56:35
</td>
<td>
Lino Galiana
</td>
<td>
regex, webscraping and API chapters in 🇬🇧 (#532)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/065b0abd">065b0abd</a>
</td>
<td>
2024-07-08 11:19:43
</td>
<td>
Lino Galiana
</td>
<td>
Nouveaux callout dans la partie manipulation (#513)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/06d003a1">06d003a1</a>
</td>
<td>
2024-04-23 10:09:22
</td>
<td>
Lino Galiana
</td>
<td>
Continue la restructuration des sous-parties (#492)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/005d89b8">005d89b8</a>
</td>
<td>
2023-12-20 17:23:04
</td>
<td>
Lino Galiana
</td>
<td>
Finalise l’affichage des statistiques Git (#478)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/3fba6124">3fba6124</a>
</td>
<td>
2023-12-17 18:16:42
</td>
<td>
Lino Galiana
</td>
<td>
Remove some badges from python (#476)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/4cd44f35">4cd44f35</a>
</td>
<td>
2023-12-11 17:37:50
</td>
<td>
Antoine Palazzolo
</td>
<td>
Relecture NLP (#474)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/a06a2689">a06a2689</a>
</td>
<td>
2023-11-23 18:23:28
</td>
<td>
Antoine Palazzolo
</td>
<td>
2ème relectures chapitres ML (#457)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/889a71ba">889a71ba</a>
</td>
<td>
2023-11-10 11:40:51
</td>
<td>
Antoine Palazzolo
</td>
<td>
Modification TP 3 (#443)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/762f85a8">762f85a8</a>
</td>
<td>
2023-10-23 18:12:15
</td>
<td>
Lino Galiana
</td>
<td>
Mise en forme du TP webscraping (#441)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/8071bbb1">8071bbb1</a>
</td>
<td>
2023-10-23 17:43:37
</td>
<td>
tomseimandi
</td>
<td>
Make minor changes to 02b, 03, 04a (#440)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/3eb0aeb1">3eb0aeb1</a>
</td>
<td>
2023-10-23 11:59:24
</td>
<td>
Thomas Faria
</td>
<td>
Relecture jusqu’aux API (#439)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/102ce9fd">102ce9fd</a>
</td>
<td>
2023-10-22 11:39:37
</td>
<td>
Thomas Faria
</td>
<td>
Relecture Thomas, première partie (#438)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/fbbf066a">fbbf066a</a>
</td>
<td>
2023-10-16 14:57:03
</td>
<td>
Antoine Palazzolo
</td>
<td>
Correction TP scraping (#435)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/a7711832">a7711832</a>
</td>
<td>
2023-10-09 11:27:45
</td>
<td>
Antoine Palazzolo
</td>
<td>
Relecture TD2 par Antoine (#418)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/154f09e4">154f09e4</a>
</td>
<td>
2023-09-26 14:59:11
</td>
<td>
Antoine Palazzolo
</td>
<td>
Des typos corrigées par Antoine (#411)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/b7f4d7ea">b7f4d7ea</a>
</td>
<td>
2023-09-17 17:03:14
</td>
<td>
Antoine Palazzolo
</td>
<td>
Renvoi vers sujet funathon pour partie scraping (#404)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/9a4e2267">9a4e2267</a>
</td>
<td>
2023-08-28 17:11:52
</td>
<td>
Lino Galiana
</td>
<td>
Action to check URL still exist (#399)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/8baf507b">8baf507b</a>
</td>
<td>
2023-08-28 11:09:30
</td>
<td>
Lino Galiana
</td>
<td>
Lien mort formation webscraping
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/a8f90c2f">a8f90c2f</a>
</td>
<td>
2023-08-28 09:26:12
</td>
<td>
Lino Galiana
</td>
<td>
Update featured paths (#396)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/3bdf3b06">3bdf3b06</a>
</td>
<td>
2023-08-25 11:23:02
</td>
<td>
Lino Galiana
</td>
<td>
Simplification de la structure 🤓 (#393)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/30823c40">30823c40</a>
</td>
<td>
2023-08-24 14:30:55
</td>
<td>
Lino Galiana
</td>
<td>
Liens morts navbar (#392)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/3560f1f8">3560f1f8</a>
</td>
<td>
2023-07-21 17:04:56
</td>
<td>
Lino Galiana
</td>
<td>
Build on smaller sized image (#384)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/130ed717">130ed717</a>
</td>
<td>
2023-07-18 19:37:11
</td>
<td>
Lino Galiana
</td>
<td>
Restructure les titres (#374)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/ef28fefd">ef28fefd</a>
</td>
<td>
2023-07-07 08:14:42
</td>
<td>
Lino Galiana
</td>
<td>
Listing pour la première partie (#369)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/f21a24d3">f21a24d3</a>
</td>
<td>
2023-07-02 10:58:15
</td>
<td>
Lino Galiana
</td>
<td>
Pipeline Quarto &amp; Pages 🚀 (#365)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/38693f62">38693f62</a>
</td>
<td>
2023-04-19 17:22:36
</td>
<td>
Lino Galiana
</td>
<td>
Rebuild visualisation part (#357)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/32486330">32486330</a>
</td>
<td>
2023-02-18 13:11:52
</td>
<td>
Lino Galiana
</td>
<td>
Shortcode rawhtml (#354)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/3c880d59">3c880d59</a>
</td>
<td>
2022-12-27 17:34:59
</td>
<td>
Lino Galiana
</td>
<td>
Chapitre regex + Change les boites dans plusieurs chapitres (#339)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/938f9bcb">938f9bcb</a>
</td>
<td>
2022-12-04 15:28:37
</td>
<td>
Lino Galiana
</td>
<td>
Test selenium en intégration continue (#331)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/342b59b6">342b59b6</a>
</td>
<td>
2022-12-04 11:55:00
</td>
<td>
Romain Avouac
</td>
<td>
Procedure to install selenium on ssp cloud (#330)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/037842a9">037842a9</a>
</td>
<td>
2022-11-22 17:52:25
</td>
<td>
Lino Galiana
</td>
<td>
Webscraping exercice nom et age ministres (#326)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/738c0744">738c0744</a>
</td>
<td>
2022-11-17 12:23:29
</td>
<td>
Lino Galiana
</td>
<td>
Nettoie le TP scraping (#323)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/f5f0f9c4">f5f0f9c4</a>
</td>
<td>
2022-11-02 19:19:07
</td>
<td>
Lino Galiana
</td>
<td>
Relecture début partie modélisation KA (#318)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/43a863f1">43a863f1</a>
</td>
<td>
2022-09-27 11:14:18
</td>
<td>
Lino Galiana
</td>
<td>
Change notebook url (#283)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/25046de4">25046de4</a>
</td>
<td>
2022-09-26 18:08:19
</td>
<td>
Lino Galiana
</td>
<td>
Rectifie bug TP webscraping (#281)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/494a85ae">494a85ae</a>
</td>
<td>
2022-08-05 14:49:56
</td>
<td>
Lino Galiana
</td>
<td>
Images featured ✨ (#252)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/d201e3cd">d201e3cd</a>
</td>
<td>
2022-08-03 15:50:34
</td>
<td>
Lino Galiana
</td>
<td>
Pimp la homepage ✨ (#249)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/bb38643d">bb38643d</a>
</td>
<td>
2022-06-08 16:59:40
</td>
<td>
Lino Galiana
</td>
<td>
Répare bug leaflet (#234)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/12965bac">12965bac</a>
</td>
<td>
2022-05-25 15:53:27
</td>
<td>
Lino Galiana
</td>
<td>
:launch: Bascule vers quarto (#226)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/9c71d6e7">9c71d6e7</a>
</td>
<td>
2022-03-08 10:34:26
</td>
<td>
Lino Galiana
</td>
<td>
Plus d’éléments sur S3 (#218)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/66e2837c">66e2837c</a>
</td>
<td>
2021-12-24 16:54:45
</td>
<td>
Lino Galiana
</td>
<td>
Fix a few typos in the new pipeline tutorial (#208)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/0e01c33f">0e01c33f</a>
</td>
<td>
2021-11-10 12:09:22
</td>
<td>
Lino Galiana
</td>
<td>
Relecture <span class="citation" data-cites="antuki">@antuki</span> API+Webscraping + Git (#178)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/9a3f7ad8">9a3f7ad8</a>
</td>
<td>
2021-10-31 18:36:25
</td>
<td>
Lino Galiana
</td>
<td>
Nettoyage partie API + Git (#170)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/6777f038">6777f038</a>
</td>
<td>
2021-10-29 09:38:09
</td>
<td>
Lino Galiana
</td>
<td>
Notebooks corrections (#171)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/2a8809fb">2a8809fb</a>
</td>
<td>
2021-10-27 12:05:34
</td>
<td>
Lino Galiana
</td>
<td>
Simplification des hooks pour gagner en flexibilité et clarté (#166)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/b138cf3e">b138cf3e</a>
</td>
<td>
2021-10-21 18:05:59
</td>
<td>
Lino Galiana
</td>
<td>
Mise à jour TP webscraping et API (#164)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/2e4d5862">2e4d5862</a>
</td>
<td>
2021-09-02 12:03:39
</td>
<td>
Lino Galiana
</td>
<td>
Simplify badges generation (#130)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/80877d20">80877d20</a>
</td>
<td>
2021-06-28 11:34:24
</td>
<td>
Lino Galiana
</td>
<td>
Ajout d’un exercice de NLP à partir openfood database (#98)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/4cdb759c">4cdb759c</a>
</td>
<td>
2021-05-12 10:37:23
</td>
<td>
Lino Galiana
</td>
<td>
:sparkles: :star2: Nouveau thème hugo :snake: :fire: (#105)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/7f9f97bc">7f9f97bc</a>
</td>
<td>
2021-04-30 21:44:04
</td>
<td>
Lino Galiana
</td>
<td>
🐳 + 🐍 New workflow (docker 🐳) and new dataset for modelization (2020 🇺🇸 elections) (#99)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/6d010fa2">6d010fa2</a>
</td>
<td>
2020-09-29 18:45:34
</td>
<td>
Lino Galiana
</td>
<td>
Simplifie l’arborescence du site, partie 1 (#57)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/66f9f87a">66f9f87a</a>
</td>
<td>
2020-09-24 19:23:04
</td>
<td>
Lino Galiana
</td>
<td>
Introduction des figures générées par python dans le site (#52)
</td>
</tr>
<tr>
<td>
<a href="https://github.com/linogaliana/python-datascientist/commit/5c1e76d9">5c1e76d9</a>
</td>
<td>
2020-09-09 11:25:38
</td>
<td>
Lino Galiana
</td>
<td>
Ajout des éléments webscraping, regex, API (#21)
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb51" data-startfrom="422" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 421;"><span id="cb51-422"><a href="#cb51-422" aria-hidden="true" tabindex="-1"></a>creation <span class="op">=</span> d3<span class="op">.</span><span class="fu">min</span>(</span>
<span id="cb51-423"><a href="#cb51-423" aria-hidden="true" tabindex="-1"></a>  table_commit<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> <span class="kw">new</span> <span class="bu">Date</span>(d<span class="op">.</span><span class="at">Date</span>))</span>
<span id="cb51-424"><a href="#cb51-424" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb51-425"><a href="#cb51-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-426"><a href="#cb51-426" aria-hidden="true" tabindex="-1"></a>last_modification <span class="op">=</span> d3<span class="op">.</span><span class="fu">max</span>(</span>
<span id="cb51-427"><a href="#cb51-427" aria-hidden="true" tabindex="-1"></a>  table_commit<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> <span class="kw">new</span> <span class="bu">Date</span>(d<span class="op">.</span><span class="at">Date</span>))</span>
<span id="cb51-428"><a href="#cb51-428" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb51-429"><a href="#cb51-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-430"><a href="#cb51-430" aria-hidden="true" tabindex="-1"></a>creation_string <span class="op">=</span> creation<span class="op">.</span><span class="fu">toLocaleString</span>(<span class="st">"fr"</span><span class="op">,</span> {</span>
<span id="cb51-431"><a href="#cb51-431" aria-hidden="true" tabindex="-1"></a>  <span class="st">"day"</span><span class="op">:</span> <span class="st">"numeric"</span><span class="op">,</span></span>
<span id="cb51-432"><a href="#cb51-432" aria-hidden="true" tabindex="-1"></a>  <span class="st">"month"</span><span class="op">:</span> <span class="st">"long"</span><span class="op">,</span></span>
<span id="cb51-433"><a href="#cb51-433" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span><span class="op">:</span> <span class="st">"numeric"</span></span>
<span id="cb51-434"><a href="#cb51-434" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb51-435"><a href="#cb51-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-436"><a href="#cb51-436" aria-hidden="true" tabindex="-1"></a>last_modification_string <span class="op">=</span> last_modification<span class="op">.</span><span class="fu">toLocaleString</span>(<span class="st">"fr"</span><span class="op">,</span> {</span>
<span id="cb51-437"><a href="#cb51-437" aria-hidden="true" tabindex="-1"></a>  <span class="st">"day"</span><span class="op">:</span> <span class="st">"numeric"</span><span class="op">,</span></span>
<span id="cb51-438"><a href="#cb51-438" aria-hidden="true" tabindex="-1"></a>  <span class="st">"month"</span><span class="op">:</span> <span class="st">"long"</span><span class="op">,</span></span>
<span id="cb51-439"><a href="#cb51-439" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span><span class="op">:</span> <span class="st">"numeric"</span></span>
<span id="cb51-440"><a href="#cb51-440" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-4" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell hidden">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb52" data-startfrom="437" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 436;"><span id="cb52-437"><a href="#cb52-437" aria-hidden="true" tabindex="-1"></a>git_history_table <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">table</span>(</span>
<span id="cb52-438"><a href="#cb52-438" aria-hidden="true" tabindex="-1"></a>  table_commit<span class="op">,</span></span>
<span id="cb52-439"><a href="#cb52-439" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb52-440"><a href="#cb52-440" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> {</span>
<span id="cb52-441"><a href="#cb52-441" aria-hidden="true" tabindex="-1"></a>      <span class="dt">SHA</span><span class="op">:</span> x <span class="kw">=&gt;</span> <span class="fu">md</span><span class="vs">`[</span><span class="sc">${</span>x<span class="sc">}</span><span class="vs">](</span><span class="sc">${</span>github_repo<span class="sc">}</span><span class="vs">/commit/</span><span class="sc">${</span>x<span class="sc">}</span><span class="vs">)`</span><span class="op">,</span></span>
<span id="cb52-442"><a href="#cb52-442" aria-hidden="true" tabindex="-1"></a>      <span class="dt">Description</span><span class="op">:</span> x <span class="kw">=&gt;</span> <span class="fu">md</span><span class="vs">`</span><span class="sc">${</span><span class="fu">replacePullRequestPattern</span>(x<span class="op">,</span> github_repo)<span class="sc">}</span><span class="vs">`</span><span class="op">,</span></span>
<span id="cb52-443"><a href="#cb52-443" aria-hidden="true" tabindex="-1"></a>      <span class="co">/*Date: x =&gt; x.toLocaleString("fr", {</span></span>
<span id="cb52-444"><a href="#cb52-444" aria-hidden="true" tabindex="-1"></a><span class="co">        "month": "numeric",</span></span>
<span id="cb52-445"><a href="#cb52-445" aria-hidden="true" tabindex="-1"></a><span class="co">        "day": "numeric",</span></span>
<span id="cb52-446"><a href="#cb52-446" aria-hidden="true" tabindex="-1"></a><span class="co">        "year": "numeric"</span></span>
<span id="cb52-447"><a href="#cb52-447" aria-hidden="true" tabindex="-1"></a><span class="co">        })</span></span>
<span id="cb52-448"><a href="#cb52-448" aria-hidden="true" tabindex="-1"></a><span class="co">      */</span></span>
<span id="cb52-449"><a href="#cb52-449" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb52-450"><a href="#cb52-450" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb52-451"><a href="#cb52-451" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display hidden">
<div id="ojs-cell-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell hidden">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb53" data-startfrom="451" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 450;"><span id="cb53-451"><a href="#cb53-451" aria-hidden="true" tabindex="-1"></a>git_history_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb53-452"><a href="#cb53-452" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb53-453"><a href="#cb53-453" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"royalblue"</span>})<span class="op">,</span></span>
<span id="cb53-454"><a href="#cb53-454" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(</span>
<span id="cb53-455"><a href="#cb53-455" aria-hidden="true" tabindex="-1"></a>          table_commit<span class="op">,</span></span>
<span id="cb53-456"><a href="#cb53-456" aria-hidden="true" tabindex="-1"></a>          Plot<span class="op">.</span><span class="fu">pointerX</span>({<span class="dt">x</span><span class="op">:</span> (d) <span class="kw">=&gt;</span> <span class="kw">new</span> <span class="bu">Date</span>(d<span class="op">.</span><span class="at">date</span>)<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span>}))<span class="op">,</span></span>
<span id="cb53-457"><a href="#cb53-457" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(table_commit<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> (d) <span class="kw">=&gt;</span> <span class="kw">new</span> <span class="bu">Date</span>(d<span class="op">.</span><span class="at">Date</span>)<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"royalblue"</span>})</span>
<span id="cb53-458"><a href="#cb53-458" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb53-459"><a href="#cb53-459" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display hidden">
<div id="ojs-cell-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb54" data-startfrom="455" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 454;"><span id="cb54-455"><a href="#cb54-455" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">replacePullRequestPattern</span>(inputString<span class="op">,</span> githubRepo) {</span>
<span id="cb54-456"><a href="#cb54-456" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Use a regular expression to match the pattern #digit</span></span>
<span id="cb54-457"><a href="#cb54-457" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> pattern <span class="op">=</span> <span class="ss">/#</span><span class="sc">(\d+)</span><span class="ss">/g</span><span class="op">;</span></span>
<span id="cb54-458"><a href="#cb54-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-459"><a href="#cb54-459" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Replace the pattern with ${github_repo}/pull/#digit</span></span>
<span id="cb54-460"><a href="#cb54-460" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> replacedString <span class="op">=</span> inputString<span class="op">.</span><span class="fu">replace</span>(pattern<span class="op">,</span> <span class="st">'[#$1]('</span> <span class="op">+</span> githubRepo <span class="op">+</span> <span class="st">'/pull/$1)'</span>)<span class="op">;</span></span>
<span id="cb54-461"><a href="#cb54-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-462"><a href="#cb54-462" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> replacedString<span class="op">;</span></span>
<span id="cb54-463"><a href="#cb54-463" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb55" data-startfrom="494" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 493;"><span id="cb55-494"><a href="#cb55-494" aria-hidden="true" tabindex="-1"></a>github_repo <span class="op">=</span> <span class="st">"https://github.com/linogaliana/python-datascientist"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb56" data-startfrom="510" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 509;"><span id="cb56-510"><a href="#cb56-510" aria-hidden="true" tabindex="-1"></a>table_commit <span class="op">=</span> {</span>
<span id="cb56-511"><a href="#cb56-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-512"><a href="#cb56-512" aria-hidden="true" tabindex="-1"></a><span class="co">// Get the HTML table by its class name</span></span>
<span id="cb56-513"><a href="#cb56-513" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> table <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">'.commit-table'</span>)<span class="op">;</span></span>
<span id="cb56-514"><a href="#cb56-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-515"><a href="#cb56-515" aria-hidden="true" tabindex="-1"></a><span class="co">// Check if the table exists</span></span>
<span id="cb56-516"><a href="#cb56-516" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (table) {</span>
<span id="cb56-517"><a href="#cb56-517" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Initialize an array to store the table data</span></span>
<span id="cb56-518"><a href="#cb56-518" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> dataArray <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb56-519"><a href="#cb56-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-520"><a href="#cb56-520" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Extract headers from the first row</span></span>
<span id="cb56-521"><a href="#cb56-521" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> headers <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb56-522"><a href="#cb56-522" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (<span class="kw">var</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> table<span class="op">.</span><span class="at">rows</span>[<span class="dv">0</span>]<span class="op">.</span><span class="at">cells</span><span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb56-523"><a href="#cb56-523" aria-hidden="true" tabindex="-1"></a>        headers<span class="op">.</span><span class="fu">push</span>(table<span class="op">.</span><span class="at">rows</span>[<span class="dv">0</span>]<span class="op">.</span><span class="at">cells</span>[i]<span class="op">.</span><span class="at">textContent</span><span class="op">.</span><span class="fu">trim</span>())<span class="op">;</span></span>
<span id="cb56-524"><a href="#cb56-524" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb56-525"><a href="#cb56-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-526"><a href="#cb56-526" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Iterate through the rows, starting from the second row</span></span>
<span id="cb56-527"><a href="#cb56-527" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (<span class="kw">var</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> table<span class="op">.</span><span class="at">rows</span><span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb56-528"><a href="#cb56-528" aria-hidden="true" tabindex="-1"></a>        <span class="kw">var</span> row <span class="op">=</span> table<span class="op">.</span><span class="at">rows</span>[i]<span class="op">;</span></span>
<span id="cb56-529"><a href="#cb56-529" aria-hidden="true" tabindex="-1"></a>        <span class="kw">var</span> rowData <span class="op">=</span> {}<span class="op">;</span></span>
<span id="cb56-530"><a href="#cb56-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-531"><a href="#cb56-531" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Iterate through the cells in the row</span></span>
<span id="cb56-532"><a href="#cb56-532" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (<span class="kw">var</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&lt;</span> row<span class="op">.</span><span class="at">cells</span><span class="op">.</span><span class="at">length</span><span class="op">;</span> j<span class="op">++</span>) {</span>
<span id="cb56-533"><a href="#cb56-533" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Use headers as keys and cell content as values</span></span>
<span id="cb56-534"><a href="#cb56-534" aria-hidden="true" tabindex="-1"></a>            rowData[headers[j]] <span class="op">=</span> row<span class="op">.</span><span class="at">cells</span>[j]<span class="op">.</span><span class="at">textContent</span><span class="op">.</span><span class="fu">trim</span>()<span class="op">;</span></span>
<span id="cb56-535"><a href="#cb56-535" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb56-536"><a href="#cb56-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-537"><a href="#cb56-537" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Push the rowData object to the dataArray</span></span>
<span id="cb56-538"><a href="#cb56-538" aria-hidden="true" tabindex="-1"></a>        dataArray<span class="op">.</span><span class="fu">push</span>(rowData)<span class="op">;</span></span>
<span id="cb56-539"><a href="#cb56-539" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb56-540"><a href="#cb56-540" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb56-541"><a href="#cb56-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-542"><a href="#cb56-542" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> dataArray</span>
<span id="cb56-543"><a href="#cb56-543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-544"><a href="#cb56-544" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-14" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell hidden">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb57" data-startfrom="1" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Get the element with class 'git-details'</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> gitDetails <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">'.commit-table'</span>)<span class="op">;</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Check if the element exists</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (gitDetails) {</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Hide the element</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>      gitDetails<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">display</span> <span class="op">=</span> <span class="st">'none'</span><span class="op">;</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display hidden">
<div id="ojs-cell-15" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb58" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb58-0"><a href="#cb58-0" aria-hidden="true" tabindex="-1"></a>Plot <span class="op">=</span> <span class="pp">require</span>(<span class="st">'@observablehq/plot@0.6.12/dist/plot.umd.min.js'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-16" data-nodetype="declaration">

</div>
</div>
</div>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@book{galiana2025,
  author = {Galiana, Lino},
  title = {Python Pour La Data Science},
  date = {2025},
  url = {https://pythonds.linogaliana.fr/},
  doi = {10.5281/zenodo.8229676},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-galiana2025" class="csl-entry quarto-appendix-citeas" role="listitem">
Galiana, Lino. 2025. <em>Python Pour La Data Science</em>. <a href="https://doi.org/10.5281/zenodo.8229676">https://doi.org/10.5281/zenodo.8229676</a>.
</div></div></section></div></main> <!-- /main -->
<script type="text/javascript">

// replace cmd keyboard shortcut w/ control on non-Mac platforms
const kPlatformMac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;
if (!kPlatformMac) {
   var kbds = document.querySelectorAll("kbd")
   kbds.forEach(function(kbd) {
      kbd.innerHTML = kbd.innerHTML.replace(/⌘/g, '⌃');
   });
}

// tweak headings in pymd
document.querySelectorAll(".pymd span.co").forEach(el => {
   if (!el.innerText.startsWith("#|")) {
      el.style.fontWeight = 1000;
   }
});

</script>
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImRpY29fcGFydGljaXBhbnRzXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJidWxiXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGBDZSBmaWNoaWVyIGEgw6l0w6kgbW9kaWZpw6kgX18ke3RhYmxlX2NvbW1pdC5sZW5ndGh9X18gZm9pcyBkZXB1aXMgc2EgY3LDqWF0aW9uIGxlICR7Y3JlYXRpb25fc3RyaW5nfSAoZGVybmnDqHJlIG1vZGlmaWNhdGlvbiBsZSAke2xhc3RfbW9kaWZpY2F0aW9uX3N0cmluZ30pYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC00IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiaHRtbGA8ZGl2PiR7Z2l0X2hpc3RvcnlfdGFibGV9PC9kaXY+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC01IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiaHRtbGA8ZGl2PiR7Z2l0X2hpc3RvcnlfcGxvdH08L2Rpdj5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGBUaGlzIGZpbGUgaGFzIGJlZW4gbW9kaWZpZWQgX18ke3RhYmxlX2NvbW1pdC5sZW5ndGh9X18gdGltZXMgc2luY2UgaXRzIGNyZWF0aW9uIG9uICR7Y3JlYXRpb25fc3RyaW5nfSAobGFzdCBtb2RpZmllZCBvbiAke2xhc3RfbW9kaWZpY2F0aW9uX3N0cmluZ30pYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC03IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiaHRtbGA8ZGl2PiR7Z2l0X2hpc3RvcnlfdGFibGV9PC9kaXY+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC04IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiaHRtbGA8ZGl2PiR7Z2l0X2hpc3RvcnlfcGxvdH08L2Rpdj5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTkiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJjcmVhdGlvbiA9IGQzLm1pbihcbiAgdGFibGVfY29tbWl0Lm1hcChkID0+IG5ldyBEYXRlKGQuRGF0ZSkpXG4pXG5cbmxhc3RfbW9kaWZpY2F0aW9uID0gZDMubWF4KFxuICB0YWJsZV9jb21taXQubWFwKGQgPT4gbmV3IERhdGUoZC5EYXRlKSlcbilcblxuY3JlYXRpb25fc3RyaW5nID0gY3JlYXRpb24udG9Mb2NhbGVTdHJpbmcoXCJmclwiLCB7XG4gIFwiZGF5XCI6IFwibnVtZXJpY1wiLFxuICBcIm1vbnRoXCI6IFwibG9uZ1wiLFxuICBcInllYXJcIjogXCJudW1lcmljXCJcbn0pXG5cbmxhc3RfbW9kaWZpY2F0aW9uX3N0cmluZyA9IGxhc3RfbW9kaWZpY2F0aW9uLnRvTG9jYWxlU3RyaW5nKFwiZnJcIiwge1xuICBcImRheVwiOiBcIm51bWVyaWNcIixcbiAgXCJtb250aFwiOiBcImxvbmdcIixcbiAgXCJ5ZWFyXCI6IFwibnVtZXJpY1wiXG59KVxuXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTEwIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiZ2l0X2hpc3RvcnlfdGFibGUgPSBJbnB1dHMudGFibGUoXG4gIHRhYmxlX2NvbW1pdCxcbiAge1xuICAgIGZvcm1hdDoge1xuICAgICAgU0hBOiB4ID0+IG1kYFske3h9XSgke2dpdGh1Yl9yZXBvfS9jb21taXQvJHt4fSlgLFxuICAgICAgRGVzY3JpcHRpb246IHggPT4gbWRgJHtyZXBsYWNlUHVsbFJlcXVlc3RQYXR0ZXJuKHgsIGdpdGh1Yl9yZXBvKX1gLFxuICAgICAgLypEYXRlOiB4ID0+IHgudG9Mb2NhbGVTdHJpbmcoXCJmclwiLCB7XG4gICAgICAgIFwibW9udGhcIjogXCJudW1lcmljXCIsXG4gICAgICAgIFwiZGF5XCI6IFwibnVtZXJpY1wiLFxuICAgICAgICBcInllYXJcIjogXCJudW1lcmljXCJcbiAgICAgICAgfSlcbiAgICAgICovXG4gICAgfVxuICB9XG4pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTExIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiZ2l0X2hpc3RvcnlfcGxvdCA9IFBsb3QucGxvdCh7XG4gIG1hcmtzOiBbXG4gICAgUGxvdC5ydWxlWShbMF0sIHtzdHJva2U6IFwicm95YWxibHVlXCJ9KSxcbiAgICBQbG90LmRvdChcbiAgICAgICAgICB0YWJsZV9jb21taXQsXG4gICAgICAgICAgUGxvdC5wb2ludGVyWCh7eDogKGQpID0+IG5ldyBEYXRlKGQuZGF0ZSksIHk6IDAsIHN0cm9rZTogXCJyZWRcIn0pKSxcbiAgICBQbG90LmRvdCh0YWJsZV9jb21taXQsIHt4OiAoZCkgPT4gbmV3IERhdGUoZC5EYXRlKSwgeTogMCwgZmlsbDogXCJyb3lhbGJsdWVcIn0pXG4gIF1cbn0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTEyIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiZnVuY3Rpb24gcmVwbGFjZVB1bGxSZXF1ZXN0UGF0dGVybihpbnB1dFN0cmluZywgZ2l0aHViUmVwbykge1xuICAgIC8vIFVzZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCB0aGUgcGF0dGVybiAjZGlnaXRcbiAgICB2YXIgcGF0dGVybiA9IC8jKFxcZCspL2c7XG5cbiAgICAvLyBSZXBsYWNlIHRoZSBwYXR0ZXJuIHdpdGggJHtnaXRodWJfcmVwb30vcHVsbC8jZGlnaXRcbiAgICB2YXIgcmVwbGFjZWRTdHJpbmcgPSBpbnB1dFN0cmluZy5yZXBsYWNlKHBhdHRlcm4sICdbIyQxXSgnICsgZ2l0aHViUmVwbyArICcvcHVsbC8kMSknKTtcblxuICAgIHJldHVybiByZXBsYWNlZFN0cmluZztcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJnaXRodWJfcmVwbyA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2xpbm9nYWxpYW5hL3B5dGhvbi1kYXRhc2NpZW50aXN0XCJcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ0YWJsZV9jb21taXQgPSB7XG5cbi8vIEdldCB0aGUgSFRNTCB0YWJsZSBieSBpdHMgY2xhc3MgbmFtZVxudmFyIHRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbW1pdC10YWJsZScpO1xuXG4vLyBDaGVjayBpZiB0aGUgdGFibGUgZXhpc3RzXG5pZiAodGFibGUpIHtcbiAgICAvLyBJbml0aWFsaXplIGFuIGFycmF5IHRvIHN0b3JlIHRoZSB0YWJsZSBkYXRhXG4gICAgdmFyIGRhdGFBcnJheSA9IFtdO1xuXG4gICAgLy8gRXh0cmFjdCBoZWFkZXJzIGZyb20gdGhlIGZpcnN0IHJvd1xuICAgIHZhciBoZWFkZXJzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWJsZS5yb3dzWzBdLmNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGhlYWRlcnMucHVzaCh0YWJsZS5yb3dzWzBdLmNlbGxzW2ldLnRleHRDb250ZW50LnRyaW0oKSk7XG4gICAgfVxuXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSByb3dzLCBzdGFydGluZyBmcm9tIHRoZSBzZWNvbmQgcm93XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0YWJsZS5yb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByb3cgPSB0YWJsZS5yb3dzW2ldO1xuICAgICAgICB2YXIgcm93RGF0YSA9IHt9O1xuXG4gICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgY2VsbHMgaW4gdGhlIHJvd1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJvdy5jZWxscy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgLy8gVXNlIGhlYWRlcnMgYXMga2V5cyBhbmQgY2VsbCBjb250ZW50IGFzIHZhbHVlc1xuICAgICAgICAgICAgcm93RGF0YVtoZWFkZXJzW2pdXSA9IHJvdy5jZWxsc1tqXS50ZXh0Q29udGVudC50cmltKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQdXNoIHRoZSByb3dEYXRhIG9iamVjdCB0byB0aGUgZGF0YUFycmF5XG4gICAgICAgIGRhdGFBcnJheS5wdXNoKHJvd0RhdGEpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkYXRhQXJyYXlcblxufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlxuLy8gR2V0IHRoZSBlbGVtZW50IHdpdGggY2xhc3MgJ2dpdC1kZXRhaWxzJ1xue1xuICB2YXIgZ2l0RGV0YWlscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb21taXQtdGFibGUnKTtcblxuICAvLyBDaGVjayBpZiB0aGUgZWxlbWVudCBleGlzdHNcbiAgaWYgKGdpdERldGFpbHMpIHtcbiAgICAgIC8vIEhpZGUgdGhlIGVsZW1lbnRcbiAgICAgIGdpdERldGFpbHMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlBsb3QgPSByZXF1aXJlKCdAb2JzZXJ2YWJsZWhxL3Bsb3RAMC42LjEyL2Rpc3QvcGxvdC51bWQubWluLmpzJylcbiJ9XX0=
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../content/manipulation";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "../..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/pythonds\.linogaliana\.fr");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark">
<script>
  function loadGiscus() {
    // Function to get the theme based on body class
    const getTheme = () => {
      let baseTheme = document.getElementById('giscus-base-theme').value;
      let altTheme = document.getElementById('giscus-alt-theme').value;
      if (authorPrefersDark) {
          [baseTheme, altTheme] = [altTheme, baseTheme];
      }
      return document.body.classList.contains('quarto-dark') ? altTheme : baseTheme;
    };
    const script = document.createElement("script");
    script.src = "https://giscus.app/client.js";
    script.async = true;
    script.dataset.repo = "linogaliana/python-datascientist";
    script.dataset.repoId = "MDEwOlJlcG9zaXRvcnkyODAxNjE2Nzc=";
    script.dataset.category = "General";
    script.dataset.categoryId = "DIC_kwDOELLtjc4B-5TX";
    script.dataset.mapping = "title";
    script.dataset.reactionsEnabled = "1";
    script.dataset.emitMetadata = "0";
    script.dataset.inputPosition = "top";
    script.dataset.theme = getTheme();
    script.dataset.lang = "en";
    script.crossOrigin = "anonymous";
    // Append the script to the desired div instead of at the end of the body
    document.getElementById("quarto-content").appendChild(script);
  }
  loadGiscus();
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../content/manipulation/03_geopandas_intro.html" class="pagination-link" aria-label="Introduction to spatial data with Geopandas">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Introduction to spatial data with Geopandas</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../content/manipulation/04c_API_TP.html" class="pagination-link" aria-label="Retrieve data with APIs from Python">
        <span class="nav-page-text">Retrieve data with APIs from Python</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Python pour la <em>data science</em>, Lino Galiana.<br>
Licence <i class="fa-brands fa-creative-commons" aria-label="creative-commons"></i><br>
Code source disponible sur <a href="https://github.com/linogaliana/python-datascientist"><code>Github</code></a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/linogaliana/python-datascientist/edit/master/content/manipulation/04a_webscraping_TP.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/linogaliana/python-datascientist/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>Site construit avec <i class="fa-brands fa-python" aria-label="python"></i> et <a href="https://quarto.org/"><code>Quarto</code></a><br>
<a href="https://github.com/linogaliana/python-datascientist">Code source disponible sur <i class="fa-brands fa-github" aria-label="github"></i> <code>GitHub</code></a></p>
</div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>